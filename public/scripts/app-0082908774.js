!function(){"use strict";angular.module("app",["ngAnimate","ngCookies","ngTouch","ngSanitize","restangular","ui.router","ui.bootstrap","datatables","datatables.columnfilter","datatables.bootstrap","datatables.buttons","ngMessages","blockUI","ui.select","ngSanitize","ngFileUpload","angularFileUpload","moment-picker","chart"])}(),function(){"use strict";function a(){return{restrict:"A",require:["^ngModel","^uiSelect"],scope:{instance:"="},link:function(a,e,t,o){a._instance=a.instance||{},a._instance.clear=function(){o[1].selected=void 0}}}}angular.module("app").directive("resetsearchmodel",a)}(),function(){"use strict";function a(){function a(a,e,t,o){a.objField=a.form[a.field]}var e={restrict:"E",link:a,templateUrl:"app/components/forms/errors.html",scope:{field:"@inputName",form:"="}};return e}angular.module("app").directive("formError",a)}(),angular.module("chart",[]).directive("chartSheque",function(){return{restrict:"E",scope:{data:"="},template:"<div id='chartdiv'></div>",replace:!0,link:function(a){a.$watch("data",function(e,t){var o=am4core.create("chartdiv",am4charts.XYChart);am4core.options.commercialLicense=!0,o.paddingRight=20,o.data=a.data;const l=o.xAxes.push(new am4charts.CategoryAxis);l.dataFields.category="hora",l.title.text="Horas",l.renderer.grid.template.location=0,l.renderer.minGridDistance=10,l.renderer.grid.template.disabled=!0,l.renderer.fullWidthTooltip=!0;const n=o.yAxes.push(new am4charts.ValueAxis);n.title.text="Caudal Total (m3/s)",n.renderer.opposite=!1;const i=o.series.push(new am4charts.LineSeries);i.name="Canchis",i.dataFields.valueY="hisd_q_canchis",i.dataFields.categoryX="hora",i.tooltipText="Canchis: {valueY} m3/s",i.strokeWidth=1,i.stroke=am4core.color("#797979"),i.tooltip.getFillFromObject=!1,i.tooltip.background.fill=am4core.color("#fff"),i.tooltip.label.fill=am4core.color("#558b2f"),i.propertyFields.strokeDasharray="dashLength",i.showOnInit=!0;const r=i.bullets.push(new am4charts.CircleBullet);r.circle.fill=am4core.color("#797979"),r.circle.strokeWidth=1,r.circle.radius=3,r.circle.propertyFields.radius="townSize";const s=r.states.create("hover");s.properties.scale=1.2;const c=o.series.push(new am4charts.LineSeries);c.name="Sheque",c.dataFields.valueY="hisd_q_total_cal",c.dataFields.categoryX="hora",c.tooltipText="Sheque: {valueY} m3/s",c.strokeWidth=1,c.stroke=am4core.color("#184EBB"),c.tooltip.getFillFromObject=!1,c.tooltip.background.fill=am4core.color("#fff"),c.tooltip.label.fill=am4core.color("#558b2f"),c.propertyFields.strokeDasharray="dashLength",c.showOnInit=!0;const d=c.bullets.push(new am4charts.CircleBullet);d.circle.fill=am4core.color("#184EBB"),d.circle.strokeWidth=1,d.circle.radius=3,d.circle.propertyFields.radius="townSize";const m=d.states.create("hover");m.properties.scale=1.2;const u=o.series.push(new am4charts.LineSeries);u.name="Tamboraque",u.dataFields.valueY="hitd_q_total_disp_h",u.dataFields.categoryX="hora",u.tooltipText="Tamboraque: {valueY} m3/s",u.strokeWidth=1,u.stroke=am4core.color("#FF9000"),u.tooltip.getFillFromObject=!1,u.tooltip.background.fill=am4core.color("#fff"),u.tooltip.label.fill=am4core.color("#558b2f"),u.propertyFields.strokeDasharray="dashLength",u.showOnInit=!0;const p=u.bullets.push(new am4charts.CircleBullet);p.circle.fill=am4core.color("#FF9000"),p.circle.strokeWidth=1,p.circle.radius=3,p.circle.propertyFields.radius="townSize";const h=p.states.create("hover");h.properties.scale=1.2;const f=o.series.push(new am4charts.LineSeries);f.name="Huampani",f.dataFields.valueY="hitd_q_total_disp_t",f.dataFields.categoryX="hora",f.tooltipText="Huampani: {valueY} m3/s",f.strokeWidth=1,f.stroke=am4core.color("#A7292C"),f.tooltip.getFillFromObject=!1,f.tooltip.background.fill=am4core.color("#fff"),f.tooltip.label.fill=am4core.color("#558b2f"),f.propertyFields.strokeDasharray="dashLength",f.showOnInit=!0;const v=f.bullets.push(new am4charts.CircleBullet);v.circle.fill=am4core.color("#A7292C"),v.circle.strokeWidth=1,v.circle.radius=3,v.circle.propertyFields.radius="townSize";const g=v.states.create("hover");g.properties.scale=1.2;const _=o.series.push(new am4charts.LineSeries);_.name="Moyopampa",_.dataFields.valueY="hitd_q_total_disp_m",_.dataFields.categoryX="hora",_.tooltipText="Moyopampa: {valueY} m3/s",_.strokeWidth=1,_.stroke=am4core.color("#228b22"),_.tooltip.getFillFromObject=!1,_.tooltip.background.fill=am4core.color("#fff"),_.tooltip.label.fill=am4core.color("#558b2f"),_.propertyFields.strokeDasharray="dashLength",_.showOnInit=!0;const b=_.bullets.push(new am4charts.CircleBullet);b.circle.fill=am4core.color("#228b22"),b.circle.strokeWidth=1,b.circle.radius=3,b.circle.propertyFields.radius="townSize";const w=b.states.create("hover");w.properties.scale=1.2,o.legend=new am4charts.Legend,o.cursor=new am4charts.XYCursor,o.cursor.fullWidthLineX=!0,o.cursor.xAxis=l,o.cursor.lineX.strokeOpacity=0,o.cursor.lineX.fill=am4core.color("#000"),o.cursor.lineX.fillOpacity=.1,a.$on("$destroy",function(){o.dispose()})})}}}).directive("chartChinango",function(){return{restrict:"E",scope:{data:"="},template:"<div id='chartdiv'></div>",replace:!0,link:function(a){a.$watch("data",function(e,t){var o=am4core.create("chartdiv",am4charts.XYChart);am4core.options.commercialLicense=!0,o.paddingRight=20,o.data=a.data;const l=o.xAxes.push(new am4charts.CategoryAxis);l.dataFields.category="hora",l.title.text="Horas",l.renderer.grid.template.location=0,l.renderer.minGridDistance=10,l.renderer.grid.template.disabled=!0,l.renderer.fullWidthTooltip=!0;const n=o.yAxes.push(new am4charts.ValueAxis);n.title.text="Caudal (m3/s)",n.renderer.opposite=!1;const i=o.series.push(new am4charts.LineSeries);i.name="Tulumayo",i.dataFields.valueY="hiyd_q_total_disp",i.dataFields.categoryX="hora",i.tooltipText="Tulumayo: {valueY} m3/s",i.strokeWidth=1,i.stroke=am4core.color("#228b22"),i.tooltip.getFillFromObject=!1,i.tooltip.background.fill=am4core.color("#fff"),i.tooltip.label.fill=am4core.color("#558b2f"),i.propertyFields.strokeDasharray="dashLength",i.showOnInit=!0;const r=i.bullets.push(new am4charts.CircleBullet);r.circle.fill=am4core.color("#228b22"),r.circle.strokeWidth=1,r.circle.radius=3,r.circle.propertyFields.radius="townSize";const s=r.states.create("hover");s.properties.scale=1.2;const c=o.series.push(new am4charts.LineSeries);c.name="Cap.Tul",c.dataFields.valueY="hiyd_q_captado",c.dataFields.categoryX="hora",c.tooltipText="Cap.Tul: {valueY} m3/s",c.strokeWidth=1,c.stroke=am4core.color("#184EBB"),c.tooltip.getFillFromObject=!1,c.tooltip.background.fill=am4core.color("#fff"),c.tooltip.label.fill=am4core.color("#558b2f"),c.propertyFields.strokeDasharray="dashLength",c.showOnInit=!0;const d=c.bullets.push(new am4charts.CircleBullet);d.circle.fill=am4core.color("#184EBB"),d.circle.strokeWidth=1,d.circle.radius=3,d.circle.propertyFields.radius="townSize";const m=d.states.create("hover");m.properties.scale=1.2;const u=o.series.push(new am4charts.LineSeries);u.name="Tarma",u.dataFields.valueY="hitd_q_total_disp_t",u.dataFields.categoryX="hora",u.tooltipText="Tarma: {valueY} m3/s",u.strokeWidth=1,u.stroke=am4core.color("#FF9000"),u.tooltip.getFillFromObject=!1,u.tooltip.background.fill=am4core.color("#fff"),u.tooltip.label.fill=am4core.color("#558b2f"),u.propertyFields.strokeDasharray="dashLength",u.showOnInit=!0;const p=u.bullets.push(new am4charts.CircleBullet);p.circle.fill=am4core.color("#FF9000"),p.circle.strokeWidth=1,p.circle.radius=3,p.circle.propertyFields.radius="townSize";const h=p.states.create("hover");h.properties.scale=1.2;const f=o.series.push(new am4charts.LineSeries);f.name="Cap.Tarma",f.dataFields.valueY="hitd_q_captado_t",f.dataFields.categoryX="hora",f.tooltipText="Cap.Tarma: {valueY} m3/s",f.strokeWidth=1,f.stroke=am4core.color("#A7292C"),f.tooltip.getFillFromObject=!1,f.tooltip.background.fill=am4core.color("#fff"),f.tooltip.label.fill=am4core.color("#558b2f"),f.propertyFields.strokeDasharray="dashLength",f.showOnInit=!0;const v=f.bullets.push(new am4charts.CircleBullet);v.circle.fill=am4core.color("#fff"),v.circle.strokeWidth=1,v.circle.radius=3,v.circle.propertyFields.radius="townSize";const g=v.states.create("hover");g.properties.scale=1.2,o.legend=new am4charts.Legend,o.cursor=new am4charts.XYCursor,o.cursor.fullWidthLineX=!0,o.cursor.xAxis=l,o.cursor.lineX.strokeOpacity=0,o.cursor.lineX.fill=am4core.color("#000"),o.cursor.lineX.fillOpacity=.1,a.$on("$destroy",function(){o.dispose()})})}}}),function(){"use strict";function a(a,e,t){function o(){var o=this;o.permissions=[],t.start(),e.one("profiles/user",a.token).get().then(function(a){_.forEach(a.permissions,function(a,e){var t=_.find(o.permissions,{id:a.obj_parent.id});void 0==t&&(t={id:a.obj_parent.id,parent:a.obj_parent,childs:[]},o.permissions.push(t)),t.childs.push(a)}),setTimeout(function(){$("#side-menu").metisMenu()},2e3),t.stop()}),o.showMenu=!0,o.toggleClass="toggle-hide",o.toggleClassIcon="glyphicon-chevron-left",o.toggleMenu=function(){o.showMenu=o.showMenu?!1:!0,o.toggleClass=o.showMenu?"toggle-hide":"toggle-show",o.toggleClassIcon=0==o.showMenu?"glyphicon-align-justify":"glyphicon-chevron-left",a.contentMargin=0==o.showMenu?"toggle-hide":"toggle-show"},o.username="",o.lastLoginTimeRefresh=1e4,window.localStorage.getItem("lastLogin")?!0:window.localStorage.setItem("lastLogin","init"),window.localStorage.getItem("ipaddress")?!0:window.localStorage.setItem("ipaddress","init"),o.logout=function(){window.localStorage.removeItem("lastLogin"),window.localStorage.removeItem("ipaddress"),window.location.href="../public/logout"+(o.username?"?username="+o.username:"")},o.watchLastLogin=function(){e.one("lastlogin",a.token).get().then(function(a){return o.username=a.username?a.username:"","init"==window.localStorage.getItem("lastLogin")&&window.localStorage.setItem("lastLogin",a.last_login),"init"==window.localStorage.getItem("ipaddress")&&window.localStorage.setItem("ipaddress",a.ip),window.localStorage.getItem("lastLogin")?window.localStorage.getItem("lastLogin")!==a.last_login&&window.localStorage.getItem("ipaddress")!==a.ip?(alert("Ha iniciado sesión en otro dispositivo. Su sesión actual se cerrará automáticamente."),void o.logout()):void setTimeout(o.watchLastLogin,o.lastLoginTimeRefresh):o.logout()})},o.watchLastLogin()}var l={restrict:"E",templateUrl:"app/components/navbar/navbar.html",scope:{creationDate:"="},controller:o,controllerAs:"vm",bindToController:!0};return l}a.$inject=["$rootScope","Restangular","blockUI"],angular.module("app").directive("enelNavbar",a)}(),function(){"use strict";function a(a,e,t,o,l,n,i,r,s,c){a.init=function(){a.dataList={}},a.dtOptions=o.newOptions().withOption("ajax",{dataSrc:"data",url:i.url+"users?api_token="+a.token,type:"GET",data:function(e){e=_.merge(e,a.dataList),c.start()}}).withDataProp("data").withBootstrap().withOption("serverSide",!0).withPaginationType("full_numbers").withOption("fnRowCallback",function(e,t,o,l){n(e)(a)}).withOption("bFilter",!1).withOption("dom",'<"head_info"i>lfrtp').withOption("fnDrawCallback",function(){a.$apply(function(){c.stop()})}),a.dtColumns=[l.newColumn("id").withTitle("ID"),l.newColumn("name").withTitle("Nombre"),l.newColumn("username").withTitle("username"),l.newColumn("profile").withTitle("Perfil"),l.newColumn("id").withTitle("Opciones").withOption("searchable",!1).renderWith(function(a,e,t){var o="";return null==t.deleted_at?(o+='<a class="btn btn-warning btn-sm" href="#/users/form/'+a+'"><i class="fa fa-edit"></i></a>',o+="&nbsp;&nbsp;",o+='<a class="btn btn-danger btn-sm"  ng-click="confirmDelete('+a+", '"+t.name+'\')"><i class="fa fa-trash-o"></i></a>'):o+='<a class="btn btn-primary btn-sm"  ng-click="confirmRestore('+a+", '"+t.name+'\')"><i class="fa fa-unlock-alt"></i></a>',o})],a.dtInstance={},a.reloadData=function(){a.dtInstance.reloadData(null,!1)},a.confirmDelete=function(e,o){var l=t.open({animation:a.animationsEnabled,templateUrl:"app/components/modals/confirmation.html",scope:a}),n="¿Está seguro de eliminar al usuario <b>"+o+"</b>?";a.modal={title:"Eliminar",message:n,accept:function(){a["delete"](e,l),l.close()},cancel:function(){l.close()}}},a["delete"]=function(o,l){var n=e.all("users");n.customDELETE(o).then(function(e){a.reloadData();var o=t.open({animation:a.animationsEnabled,templateUrl:"app/components/modals/information.html",scope:a});a.modal={title:"Eliminando usuario",message:e.message,accept:function(){o.close()}}}),l.close()},a.confirmRestore=function(e,o){var l=t.open({animation:a.animationsEnabled,templateUrl:"app/components/modals/confirmation.html",scope:a}),n="¿Está seguro que desea activar al usuario <b>"+o+"</b>?";a.modal={title:"Activar",message:n,accept:function(){a.restore(e,l),l.close()},cancel:function(){l.close()}}},a.restore=function(e,o){r({method:"DELETE",url:i.url+"users/restore/"+e+"?api_token="+a.token}).then(function(e){a.reloadData();var o=t.open({animation:a.animationsEnabled,templateUrl:"app/components/modals/information.html",scope:a});a.modal={title:"Activando usuario",message:"Activado con éxito",accept:function(){o.close()}}}),o.close()},a.init()}a.$inject=["$scope","Restangular","$modal","DTOptionsBuilder","DTColumnBuilder","$compile","api","$http","$filter","blockUI"],angular.module("app").controller("UserListController",a)}(),function(){"use strict";function a(a,e,t,o,l,n){a.init=function(){a.alert={},a.user={},a.profile,a.profiles,t.id>0?a.getUser():a.getProfiles()},a.getProfiles=function(){var o=e.oneUrl("profiles");o.get().then(function(e){if(a.profiles=e.plain(),t.id>0){var o=a.profiles.filter(function(e){return e.id==a.user.profile_id});a.profile=o[0]}})},a.confirmSave=function(e){var t=(l.open({animation:!0,templateUrl:"app/components/modals/options.html",scope:a}),"¿El usuario <b>"+e.id+" </b> se ha guardado con éxito. ¿Que desea hacer?");a.modal={title:"Guardado",message:t,options:[{text:"Ir al listado",action:function(){n.go("page.users-list")}},{text:"Ir a edición",action:function(){n.go("page.users-form",{id:e.id},{reload:!0})}},{text:"Crear nuevo",action:function(){n.go("page.users-form",{id:0},{reload:!0})}}]}},a.getUser=function(){e.one("users",t.id).get().then(function(e){a.user=e,a.getProfiles()})},a.changeProfile=function(e,t){a.profile=e},a.closeAlert=function(){a.alert.show=!1},a.save=function(o){if(o.$valid){var l=function(e){a.alert.show=!0,a.alert.msg=e.message,a.alert.type="danger",0==e.error&&(a.alert.type="success",a.confirmSave(e.data))};if(t.id>0)a.user.profile_id=a.profile.id,a.user.put().then(l);else{a.user.profile_id=a.profile.id;var n=e.all("users");n.post(a.user).then(l)}}},a.init()}a.$inject=["$scope","Restangular","$stateParams","$filter","$modal","$state"],angular.module("app").controller("UserFormController",a)}(),function(){"use strict";function a(a,e,t,o){a.init=function(){a.lagunaControl={},a.lagunas=[],a.laguna=null,a.umbral=null,a.date=new moment,a.minDate=new Date,a.dateStatus=!1,a.dateOptions={formatYear:"yy",startingDay:1},a.id>0?a.getLagunaControl():a.getLagunas()},a.getLagunaControl=function(){e.one("laguna_controles",a.id).get().then(function(e){e.hlco_apertura=parseFloat(e.hlco_apertura),e.hlco_filtracion=parseFloat(e.hlco_filtracion),e.hlco_nivel=parseFloat(e.hlco_nivel),e.hlco_rebose=parseFloat(e.hlco_rebose),a.lagunaControl=e,a.date=new Date(e.hlco_fecha),a.getLagunas()})},a.save=function(t){if(t.$valid)if(a.id>0)a.lagunaControl.id=a.lagunaControl.hlco_lcontrol_id,a.lagunaControl.put().then(function(){a.successSave()});else{a.fromFormToLaguna();var o=e.all("laguna_controles");o.post(a.lagunaControl).then(function(){a.successSave()})}},a.formatDate=function(a){return t("date")(a,"yyyy.MM.dd HH:mm")+":00"},a.fromFormToLaguna=function(){a.lagunaControl.hlco_fecha=a.formatDate(a.date.toDate()),a.lagunaControl.hlco_laguna_fk=a.laguna.hila_laguna_id},a.openDate=function(e){a.dateStatus=!0},a.getLagunas=function(){var t=e.oneUrl("lagunas");t.get().then(function(e){if(a.lagunas=e.plain(),a.id>0){var t=a.lagunas.filter(function(e){return e.hila_laguna_id==a.lagunaControl.hlco_laguna_fk});a.laguna=t[0]}})},a.changeLaguna=function(o,l){a.laguna=o;var n=e.oneUrl("umbrales?name="+t("uppercase")(o.hila_nombre)+"&formulario=CONTROL_LAGUNAS");n.get().then(function(e){var t=e.plain();a.umbral=t[0]})},a.init()}a.$inject=["$scope","Restangular","$filter","$modal"],angular.module("app").controller("LagunaControlesFormController",a)}(),function(){"use strict";function a(a,e,t,o,l,n,i,r,s,c){a.init=function(){a.lagunas=[],a.laguna=null,a.date_ini=null,a.date_fin=null,a.dateStatus=!1,a.dateOptions={formatYear:"yy",startingDay:1},a.dataList={},a.getLagunas()},a.search=function(e){e.$valid&&(a.dataList.date_ini=null!=a.date_ini?a.formatDateIni(a.date_ini.toDate()):null,a.dataList.date_fin=null!=a.date_fin?a.formatDateFin(a.date_fin.toDate()):null,a.dataList.laguna=0==_.isEmpty(a.laguna)?a.laguna.hila_laguna_id:null,a.reloadData())},a.formatDateIni=function(a){return s("date")(a,"yyyy.MM.dd")+" 00:00:00"},a.formatDateFin=function(a){return s("date")(a,"yyyy.MM.dd")+" 23:59:59"},a.openDate=function(e){a.dateStatus=!0},a.reloadPage=function(){location.reload()},a.getLagunas=function(){var t=e.oneUrl("lagunas");t.get().then(function(e){a.lagunas=e.plain()})},a.dtOptions=o.newOptions().withOption("ajax",{dataSrc:"data",url:i.url+"laguna_controles/dt?api_token="+a.token,type:"GET",data:function(e){e=_.merge(e,a.dataList),c.start()}}).withDataProp("data").withBootstrap().withOption("serverSide",!0).withPaginationType("full_numbers").withOption("fnRowCallback",function(e,t,o,l){n(e)(a)}).withOption("bFilter",!1).withDisplayLength(24).withOption("lengthChange",!1).withOption("aaSorting",[[0,"desc"]]).withOption("dom","frtipB").withOption("columnDefs",[{targets:[0,1],"class":"text-center"},{targets:[2,3,4,5,6,7,8,9],"class":"text-right",render:$.fn.dataTable.render.number(",",".",1)}]).withOption("fnDrawCallback",function(){a.$apply(function(){c.stop()})}),a.dtColumns=[l.newColumn("hlco_fecha").withTitle("Fecha y Hora"),l.newColumn("hlco_lcontrol_id").withTitle("Editar").withOption("searchable",!1).withOption("width","10px").renderWith(function(a,e,t){var o="",l=new Date,n=new Date(t.hlco_fecha),i=parseInt(t.t_edicion);return l.setHours(l.getHours()-i),o+=n>l&&null!=t.hlco_lcontrol_id?'<a class="btn btn-danger btn-sm" ng-click="openForm('+a+')"><i class="fa fa-edit"></i></a>':""}),l.newColumn("laguna").withTitle("Laguna").withOption("searchable",!1),l.newColumn("hlco_nivel").withTitle("Nivel (m)"),l.newColumn("hlco_apertura").withTitle("Apertura"),l.newColumn("hlco_rebose").withTitle("Rebose (m3/s)"),l.newColumn("hlco_filtracion").withTitle("Filtración (m3/s)"),l.newColumn("hlco_caudal").withTitle("Caudal (m3/s)"),l.newColumn("hlco_caudal_cal").withTitle("Caudal calculado"),l.newColumn("hlco_volumen_cal").withTitle("Volumen (hm3)")],a.dtInstance={},a.reloadData=function(){a.dtInstance.reloadData(null,!1)},a.openForm=function(e){a.id=e;var o=t.open({animation:a.animationsEnabled,templateUrl:"app/laguna_controles/laguna_controles.form.html",scope:a,controller:"LagunaControlesFormController"});a.successSave=function(){a.reloadData(),o.close()},a.cancelSave=function(){o.close()}},a.confirmDelete=function(e){var o=t.open({animation:a.animationsEnabled,templateUrl:"app/components/modals/confirmation.html",scope:a}),l="¿Esta seguro de eliminar el registro <b>"+e+"</b>?";a.modal={title:"Eliminar",message:l,accept:function(){a["delete"](e,o),o.close()},cancel:function(){o.close()}}},a["delete"]=function(t,o){var l=e.all("laguna_controles");l.customDELETE(t).then(function(e){a.reloadData()})},a.changeLaguna=function(e,t){a.laguna=e},a.init()}a.$inject=["$scope","Restangular","$modal","DTOptionsBuilder","DTColumnBuilder","$compile","api","$http","$filter","blockUI"],angular.module("app").controller("LagunaControlesController",a)}(),function(){"use strict";function a(a,e,t,o){a.init=function(){a.control={},a.date=new moment,a.minDate=new Date,a.dateStatus=!1,a.dateOptions={formatYear:"yy",startingDay:1},a.id>0&&a.getControl()},a.getControl=function(){e.one("meteorologia",a.id).get().then(function(e){e.evaporacion_1=parseFloat(e.evaporacion_1),e.evaporacion_2=parseFloat(e.evaporacion_2),e.evaporacion_3=parseFloat(e.evaporacion_3),e.humedad_rela_1=parseFloat(e.humedad_rela_1),e.humedad_rela_2=parseFloat(e.humedad_rela_2),e.humedad_rela_3=parseFloat(e.humedad_rela_3),e.pluviometria_1=parseFloat(e.pluviometria_1),e.pluviometria_2=parseFloat(e.pluviometria_2),e.pluviometria_3=parseFloat(e.pluviometria_3),e.temp_max_1=parseFloat(e.temp_max_1),e.temp_max_2=parseFloat(e.temp_max_2),e.temp_max_3=parseFloat(e.temp_max_3),e.temp_min_1=parseFloat(e.temp_min_1),e.temp_min_2=parseFloat(e.temp_min_2),e.temp_min_3=parseFloat(e.temp_min_3),a.control=e,a.date=new Date(e.hime_fecha)})},a.save=function(t){if(t.$valid)if(a.id>0)a.control.id=a.control.hime_meteo_id,a.control.put().then(function(e){a.successSave(e)});else{a.fromFormToControl();var o=e.all("meteorologia");o.post(a.control).then(function(e){a.successSave(e)})}},a.formatDate=function(a){return t("date")(a,"yyyy.MM.dd HH:mm")+":00"},a.fromFormToControl=function(){a.control.hime_fecha=a.formatDate(a.date.toDate())},a.openDate=function(e){a.dateStatus=!0},a.init()}a.$inject=["$scope","Restangular","$filter","$modal"],angular.module("app").controller("MeteorologiaFormController",a)}(),function(){"use strict";function a(a,e,t,o,l,n,i,r,s,c){a.init=function(){a.date_ini=null,a.date_fin=null,a.dateStatus=!1,a.dateOptions={formatYear:"yy",startingDay:1},a.dataList={}},a.search=function(e){e.$valid&&(a.dataList.date_ini=null!=a.date_ini?a.formatDateIni(a.date_ini.toDate()):null,a.dataList.date_fin=null!=a.date_fin?a.formatDateFin(a.date_fin.toDate()):null,a.reloadData())},a.formatDateIni=function(a){return s("date")(a,"yyyy.MM.dd")+" 00:00:00"},a.formatDateFin=function(a){return s("date")(a,"yyyy.MM.dd")+" 23:59:59"},a.openDate=function(e){a.dateStatus=!0},a.reloadPage=function(){location.reload()},a.buildHeader=function(){if(1==angular.element(document).find(".dataTable thead tr").length){var a='<tr class="top-tb-header">';a+='<th colspan="2" ></th>',a+='<th colspan="3" style="text-align:center">Pluviómetro (mm)</th>',a+='<th colspan="3" style="text-align:center">Evaporímetro (mm)</th>',a+='<th colspan="3" style="text-align:center">Higrómetro (%)</th>',a+='<th colspan="3" style="text-align:center">Temp Máxima (°C)</th>',a+='<th colspan="3" style="text-align:center">Temp Mínima (°C)</th>',a+="</tr>",angular.element(document).find(".dataTable thead").prepend(a)}},a.dtOptions=o.newOptions().withOption("ajax",{dataSrc:"data",url:i.url+"meteorologia/dt?api_token="+a.token,type:"GET",data:function(e){e=_.merge(e,a.dataList),c.start()}}).withDataProp("data").withBootstrap().withOption("serverSide",!0).withPaginationType("full_numbers").withOption("fnRowCallback",function(e,t,o,l){n(e)(a)}).withOption("bFilter",!1).withDisplayLength(24).withOption("lengthChange",!1).withOption("autoWidth",!1).withOption("aaSorting",[[0,"desc"]]).withOption("dom","frtipB").withOption("columnDefs",[{targets:[0,1],"class":"text-center"},{targets:[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],"class":"text-right",render:$.fn.dataTable.render.number(",",".",1)}]).withOption("fnDrawCallback",function(){a.$apply(function(){c.stop(),a.buildHeader()})}),a.dtColumns=[l.newColumn("hime_fecha").withTitle("Fecha").withOption("width","75px"),l.newColumn("hime_meteo_id").withTitle("Editar").withOption("searchable",!1).withOption("width","10px").renderWith(function(a,e,t){var o="",l=new Date,n=new Date(t.hime_fecha),i=parseInt(t.t_edicion);return l.setHours(l.getHours()-i),o+=n>l&&null!=t.hime_meteo_id?'<a class="btn btn-danger btn-sm" ng-click="openForm('+a+')"><i class="fa fa-edit"></i></a>':""}),l.newColumn("pluviometria_1").withTitle("Marca").withOption("width","48px"),l.newColumn("pluviometria_2").withTitle("Milloc").withOption("width","48px"),l.newColumn("pluviometria_3").withTitle("Yurac").withOption("width","48px"),l.newColumn("evaporacion_1").withTitle("Marca").withOption("width","48px"),l.newColumn("evaporacion_2").withTitle("Milloc").withOption("width","48px"),l.newColumn("evaporacion_3").withTitle("Yurac").withOption("width","48px"),l.newColumn("humedad_rela_1").withTitle("Marca").withOption("width","48px"),l.newColumn("humedad_rela_2").withTitle("Milloc").withOption("width","48px"),l.newColumn("humedad_rela_3").withTitle("Yurac").withOption("width","48px"),l.newColumn("temp_max_1").withTitle("Marca").withOption("width","48px"),l.newColumn("temp_max_2").withTitle("Milloc").withOption("width","48px"),l.newColumn("temp_max_3").withTitle("Yurac").withOption("width","48px"),l.newColumn("temp_min_1").withTitle("Marca").withOption("width","48px"),l.newColumn("temp_min_2").withTitle("Milloc").withOption("width","48px"),l.newColumn("temp_min_3").withTitle("Yurac").withOption("width","48px")],a.dtInstance={},a.reloadData=function(){a.dtInstance.reloadData(null,!1)},a.openForm=function(e){a.id=e;var o=t.open({animation:a.animationsEnabled,templateUrl:"app/meteorologia/meteorologia.form.html",scope:a,controller:"MeteorologiaFormController",size:"lg"});a.successSave=function(e){if(1==e.error){o.close();var l=t.open({animation:a.animationsEnabled,templateUrl:"app/components/modals/information.html",scope:a});a.modal={title:"Error",message:e.message,accept:function(){l.close()}}}else a.reloadData(),o.close()},a.cancelSave=function(){o.close()}},a.confirmDelete=function(e){var o=t.open({animation:a.animationsEnabled,templateUrl:"app/components/modals/confirmation.html",scope:a}),l="¿Esta seguro de eliminar el registro <b>"+e+"</b>?";a.modal={title:"Eliminar",message:l,accept:function(){a["delete"](e,o),o.close()},cancel:function(){o.close()}}},a["delete"]=function(t,o){var l=e.all("meteorologia");l.customDELETE(t).then(function(e){a.reloadData()})},a.init()}a.$inject=["$scope","Restangular","$modal","DTOptionsBuilder","DTColumnBuilder","$compile","api","$http","$filter","blockUI"],angular.module("app").controller("MeteorologiaController",a)}(),function(){"use strict";function a(a){console.log(a.token)}a.$inject=["$scope"],angular.module("app").controller("MainController",a)}(),function(){"use strict";function a(a,e,t,o){a.init=function(){if(a.control={},a.minDate=new Date,a.dateStatus=!1,a.dateOptions={formatYear:"yy",startingDay:1},a.id||(a.date=new moment),a.id&&a.id>0&&a.getControl(),a.fechaNum<0){var e=-1*a.fechaNum,t=String(e),o=t.split("");o.splice(4,0,"-"),o.splice(7,0,"-"),o.splice(10,0," "),o.splice(13,0,":"),o.splice(16,0,":");var l=o.join("");a.control.hisd_fecha=l,a.date=a.control.hisd_fecha,a.date=new Date(a.control.hisd_fecha)}},a.getControl=function(){e.one("control_rimac",a.id).get().then(function(e){e.hisd_conce_solidos=parseFloat(e.hisd_conce_solidos),e.hisd_nivel=parseFloat(e.hisd_nivel),e.hisd_q_desvio_rio=parseFloat(e.hisd_q_desvio_rio),e.hisd_q_pillirhua=parseFloat(e.hisd_q_pillirhua),e.hisd_q_sacsa=parseFloat(e.hisd_q_sacsa),e.hisd_q_total_cal=parseFloat(e.hisd_q_total_cal),e.hitd_concen_solidos_h=parseFloat(e.hitd_concen_solidos_h),e.hitd_concen_solidos_m=parseFloat(e.hitd_concen_solidos_m),e.hitd_concen_solidos_t=parseFloat(e.hitd_concen_solidos_t),e.hitd_q_captado_h=parseFloat(e.hitd_q_captado_h),e.hitd_q_captado_m=parseFloat(e.hitd_q_captado_m),e.hitd_q_captado_t=parseFloat(e.hitd_q_captado_t),e.hitd_q_total_disp_h=parseFloat(e.hitd_q_total_disp_h),e.hitd_q_total_disp_m=parseFloat(e.hitd_q_total_disp_m),e.hitd_q_total_disp_t=parseFloat(e.hitd_q_total_disp_t),a.control=e,a.date=e.hisd_fecha,a.date=new Date(e.hisd_fecha)})},a.save=function(t){if(t.$valid)if(a.id>0)a.control.id=a.control.hisd_sdato_id,a.control.put().then(function(e){a.successSave(e)});else{a.id||a.fechaNum||a.fromFormToControl();var o=e.all("control_rimac");o.post(a.control).then(function(e){a.successSave(e)})}},a.formatDate=function(a){return t("date")(a,"yyyy.MM.dd HH:")+"00:00"},a.fromFormToControl=function(){a.control.hisd_fecha=a.formatDate(a.date.toDate())},a.openDate=function(e){a.dateStatus=!0},a.init()}a.$inject=["$scope","Restangular","$filter","$modal"],angular.module("app").controller("ControlRimacFormController",a)}(),function(){"use strict";function a(a,e,t,o,l,n,i,r,s,c,d){a.init=function(){a.date_ini=null,a.date_fin=null,a.dateStatus=!1,a.dateOptions={formatYear:"yy",startingDay:1},a.dataList={}},a.search=function(e){e.$valid&&(a.dataList.date_ini=null!=a.date_ini?a.formatDate(a.date_ini.toDate()):null,a.dataList.date_fin=null!=a.date_fin?a.formatDate(a.date_fin.toDate()):null,a.reloadData())},a.formatDate=function(a){return s("date")(a,"yyyy.MM.dd")+" 23:59:59"},a.openDate=function(e){a.dateStatus=!0},a.reloadPage=function(){location.reload()},a.buildHeader=function(){if(1==angular.element(document).find(".dataTable thead tr").length){var a='<tr class="top-tb-header">';a+='<th colspan="2" ></th>',a+='<th colspan="9" style="text-align:center">Toma Sheque</th>',a+='<th colspan="3" style="text-align:center">Toma Huampani</th>',a+='<th colspan="3" style="text-align:center">Toma Tamboraque</th>',a+='<th colspan="3" style="text-align:center">Toma Moyopampa</th>',a+="</tr>",angular.element(document).find(".dataTable thead").prepend(a)}};var m=new Date;a.dtOptions=o.newOptions().withOption("ajax",{dataSrc:"data",url:i.url+"control_rimac/dt?api_token="+a.token,type:"GET",data:function(e){e=_.merge(e,a.dataList),c.start()}}).withDataProp("data").withBootstrap().withOption("serverSide",!0).withPaginationType("full_numbers").withOption("fnRowCallback",function(e,t,o,l){n(e)(a)}).withOption("bFilter",!1).withDisplayLength(24).withOption("lengthChange",!1).withOption("autoWidth",!1).withOption("aaSorting",!1).withOption("dom","frtipB").withOption("columnDefs",[{targets:[0,1],"class":"text-center"},{targets:[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],"class":"text-right",render:$.fn.dataTable.render.number(",",".",1)}]).withOption("createdRow",function(a,e,t){var o=new Date(e.fechahora);m>o&&null==e.hisd_nivel&&$("td",a).addClass("red-cccc")}).withOption("fnDrawCallback",function(e){a.data=[];for(var t=0;t<Object.keys(e.aoData).length;t++)a.data.push(e.aoData[t]._aData);a.$apply(function(){c.stop(),a.buildHeader()})}),a.dtColumns=[l.newColumn("fechahora").withTitle("Fecha y Hora").withOption("width","99px"),l.newColumn("hisd_sdato_id").withTitle("Editar").withOption("searchable",!1).withOption("width","10px").renderWith(function(a,e,t){var o="",l=new Date,n=new Date,i=new Date(t.fechahora),r=parseInt(t.fechahora.replace(/-| |:/g,"")),s=-1*r,c=parseInt(t.t_edicion);return n.setHours(n.getHours()-c),o+=i>n&&null!=t.hisd_sdato_id?'<a class="btn btn-danger btn-sm" ng-click="openForm('+parseInt(a)+')" title="Editar"><i class="fa fa-edit"></i></a>':l>i&&i>n&&null==t.hisd_nivel?'<a class="btn btn-primary btn-sm" ng-click="openForm('+s+')" title="Insertar"><i class="fa fa-plus"></i></a>':""}),l.newColumn("hisd_nivel").withTitle("Nivel").withOption("width","2px"),l.newColumn("hisd_conce_solidos").withTitle("C. S.").withOption("width","24px"),l.newColumn("hisd_volumen_cal").withTitle("Volumen").withOption("width","51px"),l.newColumn("hisd_q_sacsa").withTitle("Rio Sacsa").withOption("width","15px"),l.newColumn("hisd_q_canchis").withTitle("Rio Canchis").withOption("width","15px"),l.newColumn("hisd_q_pillirhua").withTitle("Rio Pillirhua").withOption("width","15px"),l.newColumn("hisd_q_desvio_rio").withTitle("Desv al Rio").withOption("width","15px"),l.newColumn("hisd_q_presa_cal").withTitle("Presa Sheque").withOption("width","15px"),l.newColumn("hisd_q_total_cal").withTitle("Caudal Total Sheque").withOption("width","15px"),l.newColumn("hitd_q_total_disp_t").withTitle("Caudal Total").withOption("width","15px"),l.newColumn("hitd_q_captado_t").withTitle("Caudal Captado").withOption("width","15px"),l.newColumn("hitd_concen_solidos_t").withTitle("C.S").withOption("width","15px"),l.newColumn("hitd_q_total_disp_h").withTitle("Caudal Total").withOption("width","15px"),l.newColumn("hitd_q_captado_h").withTitle("Caudal Captado").withOption("width","15px"),l.newColumn("hitd_concen_solidos_h").withTitle("C.S.").withOption("width","15px"),l.newColumn("hitd_q_total_disp_m").withTitle("Caudal Total").withOption("width","15px"),l.newColumn("hitd_q_captado_m").withTitle("Caudal Captado").withOption("width","15px"),l.newColumn("hitd_concen_solidos_m").withTitle("C.S.").withOption("width","15px")],
a.dtInstance={},a.reloadData=function(){a.dtInstance.reloadData(null,!1)},a.showHide=function(){var a=document.getElementById("chartdiv");a.style.display="none"===a.style.display?"block":"none"},a.openForm=function(e){0>e?a.fechaNum=e:a.id=e;var o=t.open({animation:a.animationsEnabled,templateUrl:"app/control_rimac/control_rimac.form.html",scope:a,controller:"ControlRimacFormController",size:"lg"});a.successSave=function(e){if(1==e.error){o.close();var l=t.open({animation:a.animationsEnabled,templateUrl:"app/components/modals/information.html",scope:a});a.modal={title:"Error",message:e.message,accept:function(){l.close()}}}else a.reloadData(),o.close();delete a.id,delete a.fechaNum},a.cancelSave=function(){delete a.id,delete a.fechaNum,o.close()}},a.confirmDelete=function(e){var o=t.open({animation:a.animationsEnabled,templateUrl:"app/components/modals/confirmation.html",scope:a}),l="¿Esta seguro de eliminar el registro <b>"+e+"</b>?";a.modal={title:"Eliminar",message:l,accept:function(){a["delete"](e,o),o.close()},cancel:function(){o.close()}}},a["delete"]=function(t,o){var l=e.all("control_rimac");l.customDELETE(t).then(function(e){a.reloadData()})},a.init()}a.$inject=["$scope","Restangular","$modal","DTOptionsBuilder","DTColumnBuilder","$compile","api","$http","$filter","blockUI","$rootScope"],angular.module("app").controller("ControlRimacController",a)}(),function(){"use strict";function a(a,e,t,o,l){a.ubicacion=null,a.ubicaciones=[],a.init=function(){l.id?a.getControl():a.getUbicaciones()},a.getControl=function(){e.one("events",a.id).get().then(function(e){a.control=e,a.date=new Date(e.hiev_fecha),a.getUbicaciones()})},a.save=function(t){if(a.control.hiev_ubicacion=a.ubicacion.id,t.$valid)if(a.id>0)a.control.id=a.control.hiev_evento_id,a.control.put().then(function(e){a.successSave(e)});else{a.fromFormToControl();var o=e.all("events");o.post(a.control).then(function(e){a.successSave(e)})}},a.formatDate=function(a){return t("date")(a,"yyyy/MM/dd")},a.openDate=function(e){a.dateStatus=!0},a.getUbicaciones=function(){var t=e.oneUrl("ubicacion");t.get().then(function(e){if(a.ubicaciones=e.plain(),l.id>0){var t=a.ubicaciones.filter(function(e){return e.id==a.events.hiev_ubicacion});a.ubicacion=t[0]}})},a.fromFormToControl=function(){a.control.hiev_fecha=a.formatDate(a.date.toDate())},a.changeubicacion=function(e,t){a.ubicacion=e},a.init()}a.$inject=["$scope","Restangular","$filter","$modal","$stateParams"],angular.module("app").controller("EventsFormController",a)}(),function(){"use strict";function a(a,e,t,o,l,n,i,r,s,c){a.init=function(){a.date=(new moment).format(),a.dateStatus=!1,a.dateOptions={formatYear:"yy",startingDay:1},a.dataList={}},a.search=function(e){e.$valid&&(a.dataList.date=null!=a.date?a.formatDate(a.date.toDate()):null,a.reloadData())},a.formatDate=function(a){return s("date")(a,"yyyy.MM.dd")+" 23:59:59"},a.openDate=function(e){a.dateStatus=!0},a.dtOptions=o.newOptions().withOption("ajax",{dataSrc:"data",url:i.url+"events/dt?api_token="+a.token,type:"GET",data:function(e){e=_.merge(e,a.dataList),c.start()}}).withDataProp("data").withBootstrap().withOption("serverSide",!0).withPaginationType("full_numbers").withOption("fnRowCallback",function(e,t,o,l){n(e)(a)}).withOption("bFilter",!1).withOption("autoWidth",!1).withOption("aaSorting",[[0,"desc"]]).withOption("dom",'<"head_info"i>lfrtp').withOption("fnDrawCallback",function(){a.$apply(function(){c.stop()})}),a.dtColumns=[l.newColumn("hiev_fecha").withTitle("Fecha").withOption("width","75px"),l.newColumn("hiev_trabajos_realizados").withTitle("Trabajos realizados").withOption("width","48px"),l.newColumn("hiev_eventos_importantes").withTitle("Eventos importates").withOption("width","48px"),l.newColumn("hiev_atencion_camaras").withTitle("Atencion camaras").withOption("width","48px"),l.newColumn("hiev_inspecciones").withTitle("Inspecciones").withOption("width","48px"),l.newColumn("hiev_ubicacion").withTitle("Ubicación").withOption("width","48px")],a.dtInstance={},a.reloadData=function(){a.dtInstance.reloadData(null,!1)},a.openForm=function(e){a.id=e;var o=t.open({animation:a.animationsEnabled,templateUrl:"app/events/events.form.html",scope:a,controller:"EventsFormController",size:"lg"});a.successSave=function(e){if(1==e.error){o.close();var l=t.open({animation:a.animationsEnabled,templateUrl:"app/components/modals/information.html",scope:a});a.modal={title:"Error",message:e.message,accept:function(){l.close()}}}else a.reloadData(),o.close()},a.cancelSave=function(){o.close()}},a.confirmDelete=function(e){var o=t.open({animation:a.animationsEnabled,templateUrl:"app/components/modals/confirmation.html",scope:a}),l="¿Esta seguro de eliminar el registro <b>"+e+"</b>?";a.modal={title:"Eliminar",message:l,accept:function(){a["delete"](e,o),o.close()},cancel:function(){o.close()}}},a["delete"]=function(t,o){var l=e.all("events");l.customDELETE(t).then(function(e){a.reloadData()})},a.init()}a.$inject=["$scope","Restangular","$modal","DTOptionsBuilder","DTColumnBuilder","$compile","api","$http","$filter","blockUI"],angular.module("app").controller("EventsController",a)}(),function(){"use strict";function a(a,e,t,o){a.init=function(){if(a.control={},a.minDate=new Date,a.dateStatus=!1,a.dateOptions={formatYear:"yy",startingDay:1},a.id||(a.date=new moment),a.id&&a.id>0&&a.getControl(),a.fechaNum<0){var e=-1*a.fechaNum,t=String(e),o=t.split("");o.splice(4,0,"-"),o.splice(7,0,"-"),o.splice(10,0," "),o.splice(13,0,":"),o.splice(16,0,":");var l=o.join("");a.control.hiyd_fecha=l,a.date=a.control.hiyd_fecha,a.date=new Date(a.control.hiyd_fecha)}},a.getControl=function(){e.one("control_chinango",a.id).get().then(function(e){e.hiyd_nivel=parseFloat(e.hiyd_nivel),e.hiyd_concen_solidos=parseFloat(e.hiyd_concen_solidos),e.hiyd_q_captado=parseFloat(e.hiyd_q_captado),e.hiyd_q_total_disp=parseFloat(e.hiyd_q_total_disp),e.hiyd_q_desvio_rio=parseFloat(e.hiyd_q_desvio_rio),e.hitd_concen_solidos_t=parseFloat(e.hitd_concen_solidos_t),e.hitd_q_captado_t=parseFloat(e.hitd_q_captado_t),e.hitd_q_total_disp_t=parseFloat(e.hitd_q_total_disp_t),a.control=e,a.date=e.hiyd_fecha,a.date=new Date(e.hiyd_fecha)})},a.save=function(t){if(t.$valid)if(a.id>0)a.control.id=a.control.hiyd_tudato_id,a.control.put().then(function(e){a.successSave(e)});else{a.id||a.fechaNum||a.fromFormToControl();var o=e.all("control_chinango");o.post(a.control).then(function(e){a.successSave(e)})}},a.formatDate=function(a){return t("date")(a,"yyyy.MM.dd HH:")+"00:00"},a.fromFormToControl=function(){a.control.hiyd_fecha=a.formatDate(a.date.toDate())},a.openDate=function(e){a.dateStatus=!0},a.init()}a.$inject=["$scope","Restangular","$filter","$modal"],angular.module("app").controller("ControlChinangoFormController",a)}(),function(){"use strict";function a(a,e,t,o,l,n,i,r,s,c){a.init=function(){a.date_ini=null,a.date_fin=null,a.dateStatus=!1,a.dateOptions={formatYear:"yy",startingDay:1},a.dataList={}},a.search=function(e){e.$valid&&(a.dataList.date_ini=null!=a.date_ini?a.formatDate(a.date_ini.toDate()):null,a.dataList.date_fin=null!=a.date_fin?a.formatDate(a.date_fin.toDate()):null,a.reloadData())},a.formatDate=function(a){return s("date")(a,"yyyy.MM.dd")+" 23:59:59"},a.openDate=function(e){a.dateStatus=!0},a.reloadPage=function(){location.reload()},a.buildHeader=function(){if(1==angular.element(document).find(".dataTable thead tr").length){var a='<tr class="top-tb-header">';a+='<th colspan="2" ></th>',a+='<th colspan="6" style="text-align:center">Tulumayo</th>',a+='<th colspan="3" style="text-align:center">Tarma</th>',a+="</tr>",angular.element(document).find(".dataTable thead").prepend(a)}};var d=new Date;a.dtOptions=o.newOptions().withOption("ajax",{dataSrc:"data",url:i.url+"control_chinango/dt?api_token="+a.token,type:"GET",data:function(e){e=_.merge(e,a.dataList),c.start()}}).withDataProp("data").withBootstrap().withOption("serverSide",!0).withPaginationType("full_numbers").withOption("fnRowCallback",function(e,t,o,l){n(e)(a)}).withOption("bFilter",!1).withDisplayLength(24).withOption("lengthChange",!1).withOption("autoWidth",!1).withOption("aaSorting",!1).withOption("dom","frtipB").withOption("columnDefs",[{targets:[0,1],"class":"text-center"},{targets:[2,3,4,5,6,7,8,9,10],"class":"text-right",render:$.fn.dataTable.render.number(",",".",1)}]).withOption("createdRow",function(a,e,t){var o=new Date(e.fechahora);d>=o&&null==e.hiyd_nivel&&$("td",a).addClass("red-cccc")}).withOption("fnDrawCallback",function(e){a.data=[];for(var t=0;t<Object.keys(e.aoData).length;t++)a.data.push(e.aoData[t]._aData);a.$apply(function(){c.stop(),a.buildHeader()})}),a.dtColumns=[l.newColumn("fechahora").withTitle("Fecha y Hora").withOption("width","40px"),l.newColumn("hiyd_tudato_id").withTitle("Editar").withOption("searchable",!1).withOption("width","10px").renderWith(function(a,e,t){var o="",l=new Date,n=new Date,i=new Date(t.fechahora),r=parseInt(t.fechahora.replace(/-| |:/g,"")),s=-1*r,c=parseInt(t.t_edicion);return n.setHours(n.getHours()-c),o+=i>n&&null!=t.hiyd_tudato_id?'<a class="btn btn-danger btn-sm" ng-click="openForm('+a+')" title="Editar"><i class="fa fa-edit"></i></a>':l>i&&i>n&&null==t.hiyd_nivel?'<a class="btn btn-primary btn-sm" ng-click="openForm('+s+')" title="Insertar"><i class="fa fa-plus"></i></a>':""}),l.newColumn("hiyd_nivel").withTitle("Nivel").withOption("width","28px"),l.newColumn("hiyd_volumen_cal").withTitle("Volumen").withOption("width","36px"),l.newColumn("hiyd_q_total_disp").withTitle("Caudal total disponible").withOption("width","36px"),l.newColumn("hiyd_q_captado").withTitle("Caudal captado").withOption("width","36px"),l.newColumn("hiyd_q_desvio_rio").withTitle("Desv al Rio").withOption("width","15px"),l.newColumn("hiyd_concen_solidos").withTitle("C.S.").withOption("width","36px"),l.newColumn("hitd_q_total_disp_t").withTitle("Caudal Total").withOption("width","36px"),l.newColumn("hitd_q_captado_t").withTitle("Caudal Captado").withOption("width","36px"),l.newColumn("hitd_concen_solidos_t").withTitle("C.S.").withOption("width","36px")],a.dtInstance={},a.reloadData=function(){a.dtInstance.reloadData(null,!1)},a.showHide=function(){var a=document.getElementById("chartdiv");a.style.display="none"===a.style.display?"block":"none"},a.openForm=function(e){0>e?a.fechaNum=e:a.id=e;var o=t.open({animation:a.animationsEnabled,templateUrl:"app/control_chinango/control_chinango.form.html",scope:a,controller:"ControlChinangoFormController",size:"lg"});a.successSave=function(e){if(1==e.error){o.close();var l=t.open({animation:a.animationsEnabled,templateUrl:"app/components/modals/information.html",scope:a});a.modal={title:"Error",message:e.message,accept:function(){l.close()}}}else a.reloadData(),o.close();delete a.id,delete a.fechaNum},a.cancelSave=function(){delete a.id,delete a.fechaNum,o.close()}},a.confirmDelete=function(e){var o=t.open({animation:a.animationsEnabled,templateUrl:"app/components/modals/confirmation.html",scope:a}),l="¿Esta seguro de eliminar el registro <b>"+e+"</b>?";a.modal={title:"Eliminar",message:l,accept:function(){a["delete"](e,o),o.close()},cancel:function(){o.close()}}},a["delete"]=function(t,o){var l=e.all("control_chinango");l.customDELETE(t).then(function(e){a.reloadData()})},a.init()}a.$inject=["$scope","Restangular","$modal","DTOptionsBuilder","DTColumnBuilder","$compile","api","$http","$filter","blockUI"],angular.module("app").controller("ControlChinangoController",a)}(),function(){"use strict";function a(a,e,t,o){a.init=function(){a.canalControl={},a.canales=[],a.umbrales=[],a.canal=null,a.umbral=null,a.date=new moment,a.minDate=new Date,a.dateStatus=!1,a.dateOptions={formatYear:"yy",startingDay:1},a.id>0?a.getCanalControl():a.getCanales()},a.getCanalControl=function(){e.one("canal_controles",a.id).get().then(function(e){e.hcco_nivel=parseFloat(e.hcco_nivel),e.hcco_caudal=parseFloat(e.hcco_caudal),a.canalControl=e,a.date=new Date(e.hcco_fecha),a.getCanales()})},a.save=function(t){if(t.$valid)if(a.id>0)a.canalControl.id=a.canalControl.hcco_ccontrol_id,a.canalControl.put().then(function(){a.successSave()});else{a.fromFormToCanal();var o=e.all("canal_controles");o.post(a.canalControl).then(function(){a.successSave()})}},a.formatDate=function(a){return t("date")(a,"yyyy.MM.dd HH:mm")+":00"},a.fromFormToCanal=function(){a.canalControl.hcco_fecha=a.formatDate(a.date.toDate()),a.canalControl.hcco_canal_fk=a.canal.hica_canal_id},a.openDate=function(e){a.dateStatus=!0},a.getCanales=function(){var t=e.oneUrl("canales");t.get().then(function(e){if(a.canales=e.plain(),a.id>0){var t=a.canales.filter(function(e){return e.hica_canal_id==a.canalControl.hcco_canal_fk});a.canal=t[0]}})},a.changeCanal=function(o,l){a.canal=o;var n=e.oneUrl("umbrales?name="+t("uppercase")(o.hica_nombre)+"&formulario=CONTROL_CANALES");n.get().then(function(e){var t=e.plain();a.umbral=t[0]})},a.init()}a.$inject=["$scope","Restangular","$filter","$modal"],angular.module("app").controller("CanalControlesFormController",a)}(),function(){"use strict";function a(a,e,t,o,l,n,i,r,s,c){a.init=function(){a.canales=[],a.canal=null,a.date_ini=null,a.date_fin=null,a.dateStatus=!1,a.dateOptions={formatYear:"yy",startingDay:1},a.dataList={},a.getCanalaes()},a.search=function(e){e.$valid&&(a.dataList.date_ini=null!=a.date_ini?a.formatDateIni(a.date_ini.toDate()):null,a.dataList.date_fin=null!=a.date_fin?a.formatDateFin(a.date_fin.toDate()):null,a.dataList.canal=0==_.isEmpty(a.canal)?a.canal.hica_canal_id:null,a.reloadData())},a.formatDateIni=function(a){return s("date")(a,"yyyy.MM.dd")+" 00:00:00"},a.formatDateFin=function(a){return s("date")(a,"yyyy.MM.dd")+" 23:59:59"},a.openDate=function(e){a.dateStatus=!0},a.reloadPage=function(){location.reload()},a.getCanalaes=function(){var t=e.oneUrl("canales");t.get().then(function(e){a.canales=e.plain()})},a.dtOptions=o.newOptions().withOption("ajax",{dataSrc:"data",url:i.url+"canal_controles/dt?api_token="+a.token,type:"GET",data:function(e){e=_.merge(e,a.dataList),c.start()}}).withDataProp("data").withBootstrap().withOption("serverSide",!0).withPaginationType("full_numbers").withOption("fnRowCallback",function(e,t,o,l){n(e)(a)}).withOption("bFilter",!1).withDisplayLength(24).withOption("lengthChange",!1).withOption("aaSorting",[[0,"desc"]]).withOption("dom","frtipB").withOption("columnDefs",[{targets:[0,1],"class":"text-center"},{targets:[2,3,4],"class":"text-right",render:$.fn.dataTable.render.number(",",".",1)}]).withOption("fnDrawCallback",function(){a.$apply(function(){c.stop()})}),a.dtColumns=[l.newColumn("hcco_fecha").withTitle("Fecha y Hora").withOption("width","150px"),l.newColumn("hcco_ccontrol_id").withTitle("Editar").withOption("searchable",!1).withOption("width","10px").renderWith(function(a,e,t){var o="",l=new Date,n=new Date(t.hcco_fecha),i=parseInt(t.t_edicion);return l.setHours(l.getHours()-i),o+=n>l&&null!=t.hcco_ccontrol_id?'<a class="btn btn-danger btn-sm" ng-click="openForm('+a+')"><i class="fa fa-edit"></i></a>':""}),l.newColumn("canal").withTitle("Canal").withOption("searchable",!1).withOption("width","150px"),l.newColumn("hcco_nivel").withTitle("Nivel (m)").withOption("width","125px"),l.newColumn("hcco_caudal").withTitle("Caudal calculado (m3/s)").withOption("searchable",!1).withOption("width","200px")],a.dtInstance={},a.reloadData=function(){a.dtInstance.reloadData(null,!1)},a.openForm=function(e){a.id=e;var o=t.open({animation:a.animationsEnabled,templateUrl:"app/canal_controles/canal_controles.form.html",scope:a,controller:"CanalControlesFormController"});a.successSave=function(){a.reloadData(),o.close()},a.cancelSave=function(){o.close()}},a.confirmDelete=function(e){var o=t.open({animation:a.animationsEnabled,templateUrl:"app/components/modals/confirmation.html",scope:a}),l="¿Esta seguro de eliminar el registro <b>"+e+"</b>?";a.modal={title:"Eliminar",message:l,accept:function(){a["delete"](e,o),o.close()},cancel:function(){o.close()}}},a["delete"]=function(t,o){var l=e.all("canal_controles");l.customDELETE(t).then(function(e){a.reloadData()})},a.changeCanal=function(e,t){a.canal=e},a.init()}a.$inject=["$scope","Restangular","$modal","DTOptionsBuilder","DTColumnBuilder","$compile","api","$http","$filter","blockUI"],angular.module("app").controller("CanalControlesController",a)}(),function(){"use strict";function a(a,e,t){a.debug("runBlock end"),setTimeout(function(){e.setDefaultRequestParams({api_token:t.token})},500)}a.$inject=["$log","Restangular","$rootScope"],angular.module("app").run(a)}(),function(){"use strict";function a(a,e){a.state("page",{url:"","abstract":!0,templateUrl:"app/main/container.html"}).state("page.home",{url:"/",views:{content:{templateUrl:"app/main/main.html",controller:"MainController",controllerAs:"main"}}}).state("page.users-list",{url:"/users/list",views:{content:{templateUrl:"app/users/users.list.html",controller:"UserListController",controllerAs:"userList"}}}).state("page.users-form",{url:"/users/form/:id",views:{content:{templateUrl:"app/users/users.form.html",controller:"UserFormController",controllerAs:"userForm"}}}).state("page.canal_controles",{url:"/canal_controles",views:{content:{templateUrl:"app/canal_controles/canal_controles.html",controller:"CanalControlesController",controllerAs:"canalControles"}}}).state("page.laguna_controles",{url:"/laguna_controles",views:{content:{templateUrl:"app/laguna_controles/laguna_controles.html",controller:"LagunaControlesController",controllerAs:"lagunaControles"}}}).state("page.control_rimac",{url:"/control_rimac",views:{content:{templateUrl:"app/control_rimac/control_rimac.html",controller:"ControlRimacController",controllerAs:"controlRimacController"}}}).state("page.eventos",{url:"/eventos",views:{content:{templateUrl:"app/events/events.html",controller:"EventsController",controllerAs:"eventsController"}}}).state("page.control_chinango",{url:"/control_chinango",views:{content:{templateUrl:"app/control_chinango/control_chinango.html",controller:"ControlChinangoController",controllerAs:"controlChinangoController"}}}).state("page.meteorologia",{url:"/meteorologia",views:{content:{templateUrl:"app/meteorologia/meteorologia.html",controller:"MeteorologiaController",controllerAs:"meteorologiaController"}}}),e.otherwise("/")}a.$inject=["$stateProvider","$urlRouterProvider"],angular.module("app").config(a)}(),function(){"use strict";var a=window.location.origin;if("localhost"==window.location.hostname)var a="http://localhost:8080/BDComercial";angular.module("app").constant("api",{storage:a+"/Hidrologia_Site/public/templates/",url:a+"/Hidrologia_Site/public/api/v1/"})}(),function(){"use strict";function a(a,e,t,o){t.message="Procesando...",a.debugEnabled(!0),e.setBaseUrl(o.url),t.autoBlock=!1}a.$inject=["$logProvider","RestangularProvider","blockUIConfig","api"],angular.module("app").config(a)}(),angular.module("app").run(["$templateCache",function(a){a.put("app/control_rimac/control_rimac.form.html",'<form ng-submit="save(form)" name="form" novalidate=""><div class="modal-header"><h3 class="modal-title col-lg-4">Control Rímac</h3><div class="form-inline col-lg-8 text-right" ng-hide="{{id || fechaNum}}"><label class="control-label col-lg-6" style="top: 8px;">Fecha</label> <input class="form-control col-lg-6" moment-picker="" name="date" locale="en" format="DD/MM/YYYY HH:[00]" start-view="month" ng-model="date"></div><div class="form-inline col-lg-8 text-right" ng-show="{{id > 0 || fechaNum < 0}}"><label class="control-label col-lg-6" style="top: 8px;">Fecha</label> <input ng-model="control.hisd_fecha" name="" type="text" class="form-control col-lg-6" disabled=""></div></div><div class="modal-body"><div class="row"><div class="col-lg-3"><div class="panel-default"><div class="panel-heading">Toma Sheque</div></div></div><div class="col-lg-3"><div class="form-group" ng-class="{\'has-error\': !form.hisd_nivel.$valid && form.$submitted}"><label class="control-label">Nivel (m)</label> <input ng-model="control.hisd_nivel" name="hisd_nivel" type="number" class="form-control" min="0" ng-required="true"><form-error input-name="hisd_nivel" form="form"></form-error></div></div><div class="col-lg-3"><div class="form-group" ng-class="{\'has-error\': !form.hisd_conce_solidos.$valid && form.$submitted}"><label class="control-label">Concentración de sólidos (g/l)</label> <input ng-model="control.hisd_conce_solidos" name="hisd_conce_solidos" type="number" class="form-control" min="0" ng-required="true"><form-error input-name="hisd_conce_solidos" form="form"></form-error></div></div><div class="col-lg-3"><div class="form-group"><label class="control-label">Volumen (Mm3)</label> <input readonly="" ng-model="control.hisd_volumen_cal" name="hisd_volumen_cal" type="text" class="form-control"></div></div></div><div class="row"><div class="col-lg-3"></div><div class="col-lg-3"><div class="form-group" ng-class="{\'has-error\': !form.hisd_q_sacsa.$valid && form.$submitted}"><label class="control-label">Rio Sacsa (m3/s)</label> <input ng-model="control.hisd_q_sacsa" name="hisd_q_sacsa" type="number" class="form-control" min="0" ng-required="true"><form-error input-name="hisd_q_sacsa" form="form"></form-error></div></div><div class="col-lg-3"><div class="form-group" ng-class="{\'has-error\': !form.hisd_q_desvio_rio.$valid && form.$submitted}"><label class="control-label">Desv al Rio (m3/S)</label> <input ng-model="control.hisd_q_desvio_rio" name="hisd_q_desvio_rio" type="number" class="form-control" min="0" ng-required="true"><form-error input-name="hisd_q_desvio_rio" form="form"></form-error></div></div><div class="col-lg-3"><div class="form-group" ng-class="{\'has-error\': !form.hisd_q_canchis.$valid && form.$submitted}"><label class="control-label">Rio Canchis (m3/S)</label> <input ng-model="control.hisd_q_canchis" name="hisd_q_canchis" type="text" class="form-control" readonly=""><form-error input-name="hisd_q_canchis" form="form"></form-error></div></div></div><div class="row"><div class="col-lg-3"></div><div class="col-lg-3"><div class="form-group"><label class="control-label">Presa Sheque (m3/s)</label> <input ng-model="control.hisd_q_presa_cal" name="hisd_q_presa_cal" type="text" class="form-control" readonly=""></div></div><div class="col-lg-3"><div class="form-group" ng-class="{\'has-error\': !form.hisd_q_pillirhua.$valid && form.$submitted}"><label class="control-label">Rio Pillirhua (m3/s)</label> <input ng-model="control.hisd_q_pillirhua" name="hisd_q_pillirhua" type="number" class="form-control" min="0" ng-required="true"><form-error input-name="hisd_q_pillirhua" form="form"></form-error></div></div><div class="col-lg-3"><div class="form-group" ng-class="{\'has-error\': !form.hisd_q_total_cal.$valid && form.$submitted}"><label class="control-label">Caudal Total Sheque (m3/s)</label> <input ng-model="control.hisd_q_total_cal" ng-required="true" name="hisd_q_total_cal" type="number" class="form-control" min="0"><form-error input-name="hisd_q_total_cal" form="form"></form-error></div></div></div><div class="row"><div class="col-lg-3"><div class="panel-default center"><div class="panel-heading">Toma Tamboraque</div></div></div><div class="col-lg-3"><div class="form-group" ng-class="{\'has-error\': !form.hitd_concen_solidos_t.$valid && form.$submitted}"><label class="control-label">Concentración de sólidos (g/l)</label> <input ng-model="control.hitd_concen_solidos_t" name="hitd_concen_solidos_t" type="number" class="form-control" min="0" ng-required="true"><form-error input-name="hitd_concen_solidos_t" form="form"></form-error></div></div><div class="col-lg-3"><div class="form-group" ng-class="{\'has-error\': !form.hitd_q_captado_t.$valid && form.$submitted}"><label class="control-label">Caudal captado (m3/s)</label> <input ng-model="control.hitd_q_captado_t" name="hitd_q_captado_t" type="number" class="form-control" min="0" max="{{control.hitd_q_total_disp_t}}" ng-required="true"><form-error input-name="hitd_q_captado_t" form="form"></form-error></div></div><div class="col-lg-3"><div class="form-group" ng-class="{\'has-error\': (!form.hitd_q_total_disp_t.$valid || form.hitd_q_total_disp_t.$error.min) && form.$submitted}"><label class="control-label">Caudal total (m3/s)</label> <input ng-model="control.hitd_q_total_disp_t" name="hitd_q_total_disp_t" type="number" class="form-control" min="0" ng-required="true"><form-error input-name="hitd_q_total_disp_t" form="form"></form-error></div></div></div><div class="row"><div class="col-lg-3"><div class="panel-default center"><div class="panel-heading">Toma Huampani</div></div></div><div class="col-lg-3"><div class="form-group" ng-class="{\'has-error\': !form.hitd_concen_solidos_h.$valid && form.$submitted}"><label class="control-label">Concentración de sólidos (g/l)</label> <input ng-model="control.hitd_concen_solidos_h" name="hitd_concen_solidos_h" type="number" class="form-control" min="0" ng-required="true"><form-error input-name="hitd_concen_solidos_h" form="form"></form-error></div></div><div class="col-lg-3"><div class="form-group" ng-class="{\'has-error\': !form.hitd_q_captado_h.$valid && form.$submitted}"><label class="control-label">Caudal captado (m3/s)</label> <input ng-model="control.hitd_q_captado_h" name="hitd_q_captado_h" type="number" class="form-control" min="0" max="{{control.hitd_q_total_disp_h}}" ng-required="true"><form-error input-name="hitd_q_captado_h" form="form"></form-error></div></div><div class="col-lg-3"><div class="form-group" ng-class="{\'has-error\': (!form.hitd_q_total_disp_h.$valid || form.hitd_q_total_disp_h.$error.min) && form.$submitted}"><label class="control-label">Caudal total (m3/s)</label> <input ng-model="control.hitd_q_total_disp_h" name="hitd_q_total_disp_h" type="number" class="form-control" min="0" ng-required="true"><form-error input-name="hitd_q_total_disp_h" form="form"></form-error></div></div></div><div class="row"><div class="col-lg-3"><div class="panel-default center"><div class="panel-heading">Toma Moyopampa</div></div></div><div class="col-lg-3"><div class="form-group" ng-class="{\'has-error\': !form.hitd_concen_solidos_m.$valid && form.$submitted}"><label class="control-label">Concentración de sólidos (g/l)</label> <input ng-model="control.hitd_concen_solidos_m" name="hitd_concen_solidos_m" type="number" class="form-control" min="0" ng-required="true"><form-error input-name="hitd_concen_solidos_m" form="form"></form-error></div></div><div class="col-lg-3"><div class="form-group" ng-class="{\'has-error\': !form.hitd_q_captado_m.$valid && form.$submitted}"><label class="control-label">Caudal captado (m3/s)</label> <input ng-model="control.hitd_q_captado_m" name="hitd_q_captado_m" type="number" class="form-control" min="0" max="{{control.hitd_q_total_disp_m}}" ng-required="true"><form-error input-name="hitd_q_captado_m" form="form"></form-error></div></div><div class="col-lg-3"><div class="form-group" ng-class="{\'has-error\': (!form.hitd_q_total_disp_m.$valid || form.hitd_q_total_disp_m.$error.min) && form.$submitted}"><label class="control-label">Caudal total (m3/s)</label> <input ng-model="control.hitd_q_total_disp_m" name="hitd_q_total_disp_m" type="number" class="form-control" min="0" ng-required="true"><form-error input-name="hitd_q_total_disp_m" form="form"></form-error></div></div></div></div><div class="modal-footer"><div class="row"><div class="col-lg-1 col-lg-offset-3"><button type="submit" class="btn btn-primary">Guardar</button></div><div class="col-lg-1 col-lg-offset-3"><button class="btn btn-primary" type="button" ng-click="cancelSave()">Cancelar</button></div></div></div></form>'),a.put("app/control_rimac/control_rimac.html",'<style>\r\n  td.red-cccc {\r\n    background-color: #e44a46 !important;\r\n  }\r\n</style><div class="row"><div class="col-lg-12"><h1 class="page-header" ng-click="send()">Control Rímac <button class="btn btn-success" ng-click="openForm()">Ingresar nuevo control</button></h1><div class="row"><div class="col-lg-12"><div class="panel panel-default"><div class="panel-body"><form ng-submit="search(form)" name="form" novalidate=""><div class="row"><div class="form-inline col-lg-4"><div class="form-group"><label class="control-label">Fecha Inicial</label><p class="input-group"><input class="form-control" moment-picker="" name="date_ini" placeholder="dd/mm/aaaa" locale="en" format="DD/MM/YYYY" start-view="month" ng-model="date_ini"></p></div></div><div class="form-inline col-lg-4"><div class="form-group"><label class="control-label">Fecha Final</label><p class="input-group"><input class="form-control" moment-picker="" name="date_fin" placeholder="dd/mm/aaaa" locale="en" format="DD/MM/YYYY" start-view="month" min-date="date_ini" ng-model="date_fin"></p></div></div><div class="col-lg-4"><div class="form-group"><button type="submit" class="btn btn-primary">Buscar</button> <button type="button" class="btn btn-primary" ng-click="reloadPage()">Reset</button> <button type="button" class="btn btn-primary" ng-click="showHide()">Ocultar/Ver Gráfico</button></div></div></div></form><div style="width: 100%; overflow-x: scroll;"><div><chart-sheque style="width: 70%; height: 350px; margin: 0 auto; float: none;" data="data"></chart-sheque></div><table style="min-width: 1260px;" datatable="" dt-instance="dtInstance" dt-options="dtOptions" dt-columns="dtColumns" class="table table-striped table-bordered table-hover"></table></div></div></div></div></div></div></div>'),a.put("app/canal_controles/canal_controles.form.html",'<form ng-submit="save(form)" name="form" novalidate=""><div class="modal-header"><h3 class="modal-title">Control Canales</h3></div><div class="modal-body"><div class="row"><div class="col-lg-6" ng-hide="{{id > 0}}"><div class="form-group" ng-class="{\'has-error\': !form.date.$valid && form.$submitted}"><label class="control-label">Fecha</label> <input class="form-control" moment-picker="" name="date" placeholder="" locale="en" format="DD/MM/YYYY HH:mm" start-view="month" ng-model="date"><form-error input-name="date" form="form"></form-error></div></div><div class="col-lg-6" ng-show="{{id > 0}}"><div class="form-group"><label class="control-label">Fecha</label> <input ng-model="canalControl.hcco_fecha" name="" type="text" class="form-control" disabled=""></div></div><div class="col-lg-6" ng-hide="{{id > 0}}"><div class="form-group" ng-class="{\'has-error\': !form.canal.$valid && form.$submitted}"><label class="control-label">Canal</label><ui-select ng-model="canal" name="canal" on-select="changeCanal($item, $model)" ng-required="true"><ui-select-match allow-clear="true" resetsearchmodel=""><span ng-bind="$select.selected.hica_canal_id + \' \' + $select.selected.hica_nombre"></span></ui-select-match><ui-select-choices repeat="canal in (canales | filter: $select.search) track by canal.hica_canal_id"><span ng-bind="canal.hica_canal_id + \' \' + canal.hica_nombre"></span></ui-select-choices></ui-select><form-error input-name="canal" form="form"></form-error></div></div><div class="col-lg-6" ng-show="{{id > 0}}"><div class="form-group"><label class="control-label">Canal</label> <input ng-model="canal.hica_nombre" name="" type="text" class="form-control" disabled=""></div></div></div><div class="row"><div class="col-lg-6"><div class="form-group" ng-class="{\'has-error\': !form.hcco_nivel.$valid && form.$submitted}"><label class="control-label">Nivel (m)</label> <input ng-model="canalControl.hcco_nivel" name="hcco_nivel" type="number" class="form-control" ng-required="true" min="{{umbral.hium_minimo}}" max="{{umbral.hium_maximo}}"><form-error input-name="hcco_nivel" form="form"></form-error></div></div><div class="col-lg-6"><div class="form-group" ng-class="{\'has-error\': !form.hcco_caudal.$valid && form.$submitted}"><label class="control-label">Caudal (m3/s)</label> <input ng-model="canalControl.hcco_caudal" name="hcco_caudal" type="number" class="form-control" ng-disabled="canal.hica_editcaudal == null" ng-required="canal.hica_editcaudal != null" min="0"></div></div></div></div><div class="modal-footer"><div class="row"><div class="col-lg-1 col-lg-offset-3"><button type="submit" class="btn btn-primary">Guardar</button></div><div class="col-lg-1 col-lg-offset-2"><button class="btn btn-primary" type="button" ng-click="cancelSave()">Cancelar</button></div></div></div></form>'),
a.put("app/canal_controles/canal_controles.html",'<div class="row"><div class="col-lg-12"><h1 class="page-header" ng-click="send()">Control Canales <button class="btn btn-success" ng-click="openForm()">Ingresar nuevo control</button></h1><div class="row"><div class="col-lg-12"><div class="panel panel-default"><div class="panel-body"><form ng-submit="search(form)" name="form" novalidate=""><div class="row"><div class="col-lg-3"><div class="form-group"><label class="control-label">Canal</label><ui-select ng-model="canal" name="canal" on-select="changeCanal($item, $model)"><ui-select-match allow-clear="true" resetsearchmodel=""><span ng-bind="$select.selected.hica_canal_id + \' \' + $select.selected.hica_nombre"></span></ui-select-match><ui-select-choices repeat="canal in (canales | filter: $select.search) track by canal.hica_canal_id"><span ng-bind="canal.hica_canal_id + \' \' + canal.hica_nombre"></span></ui-select-choices></ui-select></div></div><div class="col-lg-3"><div class="form-group"><label class="control-label">Fecha Inicial</label> <input class="form-control" moment-picker="" name="date_ini" placeholder="dd/mm/aaaa" locale="en" format="DD/MM/YYYY" start-view="month" ng-model="date_ini" ng-model-options="{ updateOn: \'blur\' }"></div></div><div class="col-lg-3"><div class="form-group"><label class="control-label">Fecha Final</label> <input class="form-control" moment-picker="" name="date_fin" placeholder="dd/mm/aaaa" locale="en" format="DD/MM/YYYY" start-view="month" min-date="date_ini" ng-model="date_fin" ng-model-options="{ updateOn: \'blur\' }"></div></div><div class="col-lg-3"><div class="form-group"><button type="submit" class="btn btn-primary" style="margin-top: 23px;">Buscar</button> <button type="button" class="btn btn-primary" ng-click="reloadPage()" style="margin-top: 23px;">Reset</button></div></div></div></form><table style="min-width: 500px;" datatable="" dt-instance="dtInstance" dt-options="dtOptions" dt-columns="dtColumns" class="table table-striped table-bordered table-hover"></table></div></div></div></div></div></div>'),a.put("app/control_chinango/control_chinango.form.html",'<form ng-submit="save(form)" name="form" novalidate=""><div class="modal-header"><h3 class="modal-title">Control Chinango</h3></div><div class="modal-body"><div class="row" ng-hide="{{id || fechaNum}}"><div class="col-lg-3"><div class="form-group" ng-class="{\'has-error\': !form.date.$valid && form.$submitted}"><label class="control-label">Fecha</label> <input class="form-control" moment-picker="" name="date" placeholder="" locale="en" format="DD/MM/YYYY HH:[00]" start-view="month" ng-model="date"><form-error input-name="date" form="form"></form-error></div></div></div><div class="row" ng-show="{{id > 0 || fechaNum < 0}}"><div class="col-lg-3"><div class="form-group"><label class="control-label">Fecha</label> <input ng-model="control.hiyd_fecha" name="" type="text" class="form-control" disabled=""></div></div></div><div class="row"><div class="panel-default"><div class="panel-heading">Tulumayo</div></div></div><div class="row"><div class="col-lg-3"><div class="form-group" ng-class="{\'has-error\': !form.hiyd_nivel.$valid && form.$submitted}"><label class="control-label">Nivel (m)</label> <input ng-model="control.hiyd_nivel" name="hiyd_nivel" type="number" class="form-control" ng-required="true" min="0"><form-error input-name="hiyd_nivel" form="form"></form-error></div></div><div class="col-lg-3"><div class="form-group" ng-class="{\'has-error\': !form.hiyd_concen_solidos.$valid && form.$submitted}"><label class="control-label">Concentración sólidos (g/l)</label> <input ng-model="control.hiyd_concen_solidos" name="hiyd_concen_solidos" type="number" class="form-control" ng-required="true" min="0"><form-error input-name="hiyd_concen_solidos" form="form"></form-error></div></div><div class="col-lg-3"><div class="form-group" ng-class="{\'has-error\': !form.hiyd_q_captado.$valid && form.$submitted}"><label class="control-label">Caudal captado (m3/s)</label> <input ng-model="control.hiyd_q_captado" name="hiyd_q_captado" type="number" class="form-control" ng-required="true" min="0"><form-error input-name="hiyd_q_captado" form="form"></form-error></div></div><div class="col-lg-3"><div class="form-group" ng-class="{\'has-error\': !form.hiyd_q_total_disp.$valid && form.$submitted}"><label class="control-label">Caudal Total (m3/s)</label> <input ng-model="control.hiyd_q_total_disp" name="hiyd_q_total_disp" type="number" class="form-control" min="0" ng-required="true"><form-error input-name="hiyd_q_total_disp" form="form"></form-error></div></div></div><div class="row"><div class="col-lg-3"><div class="form-group"><label class="control-label">Volumen (M m3)</label> <input ng-model="control.hiyd_volumen_cal" name="hiyd_volumen_cal" type="text" class="form-control" readonly="" min="0"></div></div><div class="col-lg-3"><div class="form-group" ng-class="{\'has-error\': !form.hiyd_q_desvio_rio.$valid && form.$submitted}"><label class="control-label">Desv al Rio (m3/S)</label> <input ng-model="control.hiyd_q_desvio_rio" name="hiyd_q_desvio_rio" type="number" class="form-control" min="0" ng-required="true"><form-error input-name="hiyd_q_desvio_rio" form="form"></form-error></div></div></div><div class="row"><div class="panel-default"><div class="panel-heading">Tarma</div></div></div><div class="row"><div class="col-lg-3"><div class="form-group" ng-class="{\'has-error\': !form.hitd_concen_solidos_t.$valid && form.$submitted}"><label class="control-label">Concentración sólidos (g/l)</label> <input ng-model="control.hitd_concen_solidos_t" name="hitd_concen_solidos_t" type="number" class="form-control" ng-required="true" min="0"><form-error input-name="hitd_concen_solidos_t" form="form"></form-error></div></div><div class="col-lg-3"><div class="form-group" ng-class="{\'has-error\': !form.hitd_q_captado_t.$valid && form.$submitted}"><label class="control-label">Caudal captado (m3/s)</label> <input ng-model="control.hitd_q_captado_t" name="hitd_q_captado_t" type="number" class="form-control" ng-required="true" min="0" max="{{control.hitd_q_total_disp_t}}"><form-error input-name="hitd_q_captado_t" form="form"></form-error></div></div><div class="col-lg-3"><div class="form-group" ng-class="{\'has-error\': (!form.hitd_q_total_disp_t.$valid || form.hitd_q_total_disp_t.$error.min) && form.$submitted}"><label class="control-label">Caudal total (m3/s)</label> <input ng-model="control.hitd_q_total_disp_t" name="hitd_q_total_disp_t" type="number" class="form-control" min="0" ng-required="true"><form-error input-name="hitd_q_total_disp_t" form="form"></form-error></div></div></div></div><div class="modal-footer"><div class="row"><div class="col-lg-1 col-lg-offset-3"><button type="submit" class="btn btn-primary">Guardar</button></div><div class="col-lg-1 col-lg-offset-2"><button class="btn btn-primary" type="button" ng-click="cancelSave()">Cancelar</button></div></div></div></form>'),a.put("app/control_chinango/control_chinango.html",'<style>\r\n  td.red-cccc {\r\n    background-color: #e44a46 !important;\r\n  }\r\n</style><div class="row"><div class="col-lg-12"><h1 class="page-header" ng-click="send()">Control Chinango <button class="btn btn-success" ng-click="openForm()">Ingresar nuevo control</button></h1><div class="row"><div class="col-lg-12"><div class="panel panel-default"><div class="panel-body"><form ng-submit="search(form)" name="form" novalidate=""><div class="row"><div class="form-inline col-lg-4"><div class="form-group"><label class="control-label">Fecha Inicial</label><p class="input-group"><input class="form-control" moment-picker="" name="date_ini" placeholder="dd/mm/aaaa" locale="en" format="DD/MM/YYYY" start-view="month" ng-model="date_ini"></p></div></div><div class="form-inline col-lg-4"><div class="form-group"><label class="control-label">Fecha Final</label><p class="input-group"><input class="form-control" moment-picker="" name="date_fin" placeholder="dd/mm/aaaa" locale="en" format="DD/MM/YYYY" start-view="month" min-date="date_ini" ng-model="date_fin"></p></div></div><div class="col-lg-4"><div class="form-group"><button type="submit" class="btn btn-primary">Buscar</button> <button type="button" class="btn btn-primary" ng-click="reloadPage()">Reset</button> <button type="button" class="btn btn-primary" ng-click="showHide()">Ocultar/Ver Gráfico</button></div></div></div></form><div style="width: 100%; overflow-x: scroll;"><div><chart-chinango style="width: 70%; height: 350px; margin: 0 auto; float: none;" data="data"></chart-chinango></div><table style="min-width: 900px;" datatable="" dt-instance="dtInstance" dt-options="dtOptions" dt-columns="dtColumns" class="table table-striped table-bordered table-hover"></table></div></div></div></div></div></div></div>'),a.put("app/main/container.html",'<div id="wrapper"><enel-navbar></enel-navbar><div id="page-wrapper" ng-class="contentMargin"><div ui-view="" name="content"></div></div></div>'),a.put("app/main/main.html","home"),a.put("app/laguna_controles/laguna_controles.form.html",'<form ng-submit="save(form)" name="form" novalidate=""><div class="modal-header"><h3 class="modal-title">Control Lagunas</h3></div><div class="modal-body"><div class="row"><div class="col-lg-6" ng-hide="{{id > 0}}"><label class="control-label">Fecha</label> <input class="form-control" moment-picker="" name="date" placeholder="" locale="en" format="DD/MM/YYYY HH:mm" start-view="month" ng-model="date"></div><div class="col-lg-6" ng-show="{{id > 0}}"><label class="control-label">Fecha</label> <input ng-model="lagunaControl.hlco_fecha" name="" type="text" class="form-control" disabled=""></div><div class="col-lg-6" ng-hide="{{id > 0}}"><div class="form-group" ng-class="{\'has-error\': !form.laguna.$valid && form.$submitted}"><label class="control-label">Laguna</label><ui-select ng-model="laguna" name="laguna" on-select="changeLaguna($item, $model)" ng-required="true"><ui-select-match allow-clear="true" hila_laguna_id=""><span ng-bind="$select.selected.HILA_LAGUNA_ID + \' \' + $select.selected.hila_nombre"></span></ui-select-match><ui-select-choices repeat="laguna in (lagunas | filter: $select.search) track by laguna.hila_laguna_id"><span ng-bind="laguna.hila_laguna_id + \' \' + laguna.hila_nombre"></span></ui-select-choices></ui-select><form-error input-name="laguna" form="form"></form-error></div></div><div class="col-lg-6" ng-show="{{id > 0}}"><div class="form-group"><label class="control-label">Laguna</label> <input ng-model="laguna.hila_nombre" name="" type="text" class="form-control" disabled=""></div></div></div><div class="row"><div class="col-lg-6"><div class="form-group" ng-class="{\'has-error\': !form.hlco_nivel.$valid && form.$submitted}"><label class="control-label">Nivel (m)</label> <input ng-model="lagunaControl.hlco_nivel" name="hlco_nivel" type="number" class="form-control" ng-required="true" min="{{umbral.hium_minimo}}" max="{{umbral.hium_maximo}}" ng-blur="getUmbral(laguna.hila_nombre, lagunaControl.hlco_nivel)"><form-error input-name="hlco_nivel" form="form"></form-error></div></div><div class="col-lg-6"><div class="form-group" ng-class="{\'has-error\': !form.hlco_apertura.$valid && form.$submitted}"><label class="control-label">Apertura</label> <input ng-model="lagunaControl.hlco_apertura" name="hlco_apertura" type="number" class="form-control" ng-required="true" min="0"><form-error input-name="hlco_apertura" form="form"></form-error></div></div></div><div class="row"><div class="col-lg-6"><div class="form-group" ng-class="{\'has-error\': !form.hlco_rebose.$valid && form.$submitted}"><label class="control-label">Rebose (m3/s)</label> <input ng-model="lagunaControl.hlco_rebose" name="hlco_rebose" type="number" class="form-control" ng-required="true" min="0"><form-error input-name="hlco_rebose" form="form"></form-error></div></div><div class="col-lg-6"><div class="form-group" ng-class="{\'has-error\': !form.hlco_filtracion.$valid && form.$submitted}"><label class="control-label">Filtración (m3/s)</label> <input ng-model="lagunaControl.hlco_filtracion" name="hlco_filtracion" type="number" class="form-control" ng-required="true" min="0"><form-error input-name="hlco_filtracion" form="form"></form-error></div></div></div><div class="row"><div class="col-lg-6"><div class="form-group" ng-class="{\'has-error\': !form.hlco_caudal.$valid && form.$submitted}"><label class="control-label">Caudal (m3/s)</label> <input ng-model="lagunaControl.hlco_caudal" name="hlco_caudal" type="number" class="form-control" ng-disabled="laguna.hila_editcaudal == null" ng-required="laguna.hila_editcaudal != null"><form-error input-name="hlco_caudal" form="form"></form-error></div></div></div></div><div class="modal-footer"><div class="row"><div class="col-lg-1 col-lg-offset-3"><button type="submit" class="btn btn-primary">Guardar</button></div><div class="col-lg-1 col-lg-offset-2"><button class="btn btn-primary" type="button" ng-click="cancelSave()">Cancelar</button></div></div></div></form>'),a.put("app/laguna_controles/laguna_controles.html",'<div class="row"><div class="col-lg-12"><h1 class="page-header" ng-click="send()">Control Lagunas <button class="btn btn-success" ng-click="openForm()">Ingresar nuevo control</button></h1><div class="row"><div class="col-lg-12"><div class="panel panel-default"><div class="panel-body"><form ng-submit="search(form)" name="form" novalidate=""><div class="row"><div class="col-lg-3"><div class="form-group"><label class="control-label">Laguna</label><ui-select ng-model="laguna" name="laguna" on-select="changeLaguna($item, $model)"><ui-select-match allow-clear="true" hila_laguna_id=""><span ng-bind="$select.selected.HILA_LAGUNA_ID + \' \' + $select.selected.hila_nombre"></span></ui-select-match><ui-select-choices repeat="laguna in (lagunas | filter: $select.search) track by laguna.hila_laguna_id"><span ng-bind="laguna.hila_laguna_id + \' \' + laguna.hila_nombre"></span></ui-select-choices></ui-select></div></div><div class="col-lg-3"><div class="form-group"><label class="control-label">Fecha Inicial</label> <input class="form-control" moment-picker="" name="date_ini" placeholder="dd/mm/aaaa" locale="en" format="DD/MM/YYYY" start-view="month" ng-model="date_ini" ng-model-options="{ updateOn: \'blur\' }"></div></div><div class="col-lg-3"><div class="form-group"><label class="control-label">Fecha Final</label> <input class="form-control" moment-picker="" name="date_fin" placeholder="dd/mm/aaaa" locale="en" format="DD/MM/YYYY" start-view="month" min-date="date_ini" ng-model="date_fin" ng-model-options="{ updateOn: \'blur\' }"></div></div><div class="col-lg-3"><div class="form-group"><button type="submit" class="btn btn-primary" style="margin-top: 23px;">Buscar</button> <button type="button" class="btn btn-primary" ng-click="reloadPage()" style="margin-top: 23px;">Reset</button></div></div></div></form><table datatable="" dt-instance="dtInstance" dt-options="dtOptions" dt-columns="dtColumns" class="table table-striped table-bordered table-hover"></table></div></div></div></div></div></div>'),a.put("app/events/events.form.html",'<form ng-submit="save(form)" name="form" novalidate=""><div class="modal-header"><h3 class="modal-title">Nuevo evento</h3></div><div class="modal-body"><div class="row"><div class="col-lg-3"><div class="form-group" ng-class="{\'has-error\': !form.date.$valid && form.$submitted}"><label class="control-label">Fecha</label> <input class="form-control" moment-picker="" name="date" placeholder="dd/mm/aaaa" locale="en" format="DD/MM/YYYY" start-view="month" ng-model="date" ng-required="true"><form-error input-name="date" form="form"></form-error></div></div><div class="col-lg-3"><div class="form-group" ng-class="{\'has-error\': !form.hiev_trabajos_realizados.$valid && form.$submitted}"><label class="control-label">Trabajos realizados</label> <input ng-model="control.hiev_trabajos_realizados" name="hiev_trabajos_realizados" type="text" class="form-control" ng-required="true"><form-error input-name="hiev_trabajos_realizados" form="form"></form-error></div></div><div class="col-lg-3"><div class="form-group" ng-class="{\'has-error\': !form.hiev_eventos_importantes.$valid && form.$submitted}"><label class="control-label">Eventos importantes</label> <input ng-model="control.hiev_eventos_importantes" name="hiev_eventos_importantes" type="text" class="form-control" ng-required="true"><form-error input-name="hiev_eventos_importantes" form="form"></form-error></div></div><div class="col-lg-3"><div class="form-group" ng-class="{\'has-error\': !form.hiev_atencion_camaras.$valid && form.$submitted}"><label class="control-label">Atencion camaras</label> <input ng-model="control.hiev_atencion_camaras" name="hiev_atencion_camaras" type="text" class="form-control" ng-required="true"><form-error input-name="hiev_atencion_camaras" form="form"></form-error></div></div><div class="col-lg-3"><div class="form-group" ng-class="{\'has-error\': !form.hiev_inspecciones.$valid && form.$submitted}"><label class="control-label">Inspecciones</label> <input ng-model="control.hiev_inspecciones" name="hiev_inspecciones" type="text" class="form-control" ng-required="true"><form-error input-name="hiev_inspecciones" form="form"></form-error></div></div><div class="col-lg-3"><label class="control-label">Ubicacion</label><ui-select ng-model="ubicacion" on-select="changeubicacion($item, $model)" name="hiev_ubicacion"><ui-select-match allow-clear="true"><span ng-bind="$select.selected.id + \' \' + $select.selected.name"></span></ui-select-match><ui-select-choices repeat="ubicacion in (ubicaciones | filter: $select.search) track by ubicacion.id"><span ng-bind="ubicacion.id + \' \' + ubicacion.name"></span></ui-select-choices></ui-select></div></div><div class="modal-footer"><div class="row"><div class="col-lg-1 col-lg-offset-3"><button type="submit" class="btn btn-primary">Guardar</button></div><div class="col-lg-1 col-lg-offset-2"><button class="btn btn-primary" type="button" ng-click="cancelSave()">Cancelar</button></div></div></div></div></form>'),a.put("app/events/events.html",'<div class="row"><div class="col-lg-12"><h1 class="page-header" ng-click="send()">Eventos <button class="btn btn-success" ng-click="openForm()">Ingresar nuevo evento</button></h1><div class="row"><div class="col-lg-12"><div class="panel panel-default"><div class="panel-body"><form ng-submit="search(form)" name="form" novalidate=""><div class="row"><div class="col-lg-3"><div class="form-group"><label class="control-label">Fecha</label> <input class="form-control" moment-picker="" name="date" placeholder="dd/mm/aaaa" locale="en" format="DD/MM/YYYY" start-view="month" ng-model="date"></div></div></div><button type="submit" class="btn btn-primary">Buscar</button></form><br><br><div style="width: 100%; overflow-x: scroll;"><table style="min-width: 1100px;" datatable="" dt-instance="dtInstance" dt-options="dtOptions" dt-columns="dtColumns" class="table table-striped table-bordered table-hover"></table></div></div></div></div></div></div></div>'),a.put("app/meteorologia/meteorologia.form.html",'<form ng-submit="save(form)" name="form" novalidate=""><div class="modal-header"><h3 class="modal-title">Control Meteorología</h3></div><div class="modal-body"><div class="row" ng-hide="{{id > 0}}"><div class="col-lg-3"><div class="form-group" ng-class="{\'has-error\': !form.date.$valid && form.$submitted}"><label class="control-label">Fecha</label> <input class="form-control" moment-picker="" name="date" placeholder="dd/mm/aaaa" locale="en" format="DD/MM/YYYY" start-view="month" ng-model="date"><form-error input-name="date" form="form"></form-error></div></div></div><div class="row" ng-show="{{id > 0}}"><div class="col-lg-3"><div class="form-group"><label class="control-label">Fecha</label> <input ng-model="control.hime_fecha" name="" type="text" class="form-control" disabled=""></div></div></div><div class="row"><div class="panel-default"><div class="panel-heading">Marcapomacocha</div></div></div><div class="row"><div class="col-lg-4"><div class="form-group" ng-class="{\'has-error\': !form.pluviometria_1.$valid && form.$submitted}"><label class="control-label">Pluviómetro (mm)</label> <input ng-model="control.pluviometria_1" name="pluviometria_1" type="number" class="form-control" ng-required="true" min="0"><form-error input-name="pluviometria_1" form="form"></form-error></div></div><div class="col-lg-4"><div class="form-group" ng-class="{\'has-error\': !form.evaporacion_1.$valid && form.$submitted}"><label class="control-label">Evaporímetro (mm)</label> <input ng-model="control.evaporacion_1" name="evaporacion_1" type="number" class="form-control" ng-required="true" min="0"><form-error input-name="evaporacion_1" form="form"></form-error></div></div><div class="col-lg-4"><div class="form-group" ng-class="{\'has-error\': !form.humedad_rela_1.$valid && form.$submitted}"><label class="control-label">Higrómetro (%)</label> <input ng-model="control.humedad_rela_1" name="humedad_rela_1" type="number" class="form-control" ng-required="true" min="0"><form-error input-name="humedad_rela_1" form="form"></form-error></div></div></div><div class="row"><div class="col-lg-4"><div class="form-group" ng-class="{\'has-error\': !form.temp_max_1.$valid && form.$submitted}"><label class="control-label">Temp Máxima (°C)</label> <input ng-model="control.temp_max_1" name="temp_max_1" type="number" class="form-control" ng-required="true" min="0"><form-error input-name="temp_max_1" form="form"></form-error></div></div><div class="col-lg-4"><div class="form-group" ng-class="{\'has-error\': !form.temp_min_1.$valid && form.$submitted}"><label class="control-label">Temp Mínima (°C)</label> <input ng-model="control.temp_min_1" name="temp_min_1" type="number" class="form-control" ng-required="true"><form-error input-name="temp_min_1" form="form"></form-error></div></div></div><div class="row"><div class="panel-default"><div class="panel-heading">Milloc</div></div></div><div class="row"><div class="col-lg-4"><div class="form-group" ng-class="{\'has-error\': !form.pluviometria_2.$valid && form.$submitted}"><label class="control-label">Pluviómetro (mm)</label> <input ng-model="control.pluviometria_2" name="pluviometria_2" type="number" class="form-control" ng-required="true" min="0"><form-error input-name="pluviometria_2" form="form"></form-error></div></div><div class="col-lg-4"><div class="form-group" ng-class="{\'has-error\': !form.evaporacion_2.$valid && form.$submitted}"><label class="control-label">Evaporímetro (mm)</label> <input ng-model="control.evaporacion_2" name="evaporacion_2" type="number" class="form-control" ng-required="true" min="0"><form-error input-name="evaporacion_2" form="form"></form-error></div></div><div class="col-lg-4"><div class="form-group" ng-class="{\'has-error\': !form.humedad_rela_2.$valid && form.$submitted}"><label class="control-label">Higrómetro (%)</label> <input ng-model="control.humedad_rela_2" name="humedad_rela_2" type="number" class="form-control" ng-required="true" min="0"><form-error input-name="humedad_rela_2" form="form"></form-error></div></div></div><div class="row"><div class="col-lg-4"><div class="form-group" ng-class="{\'has-error\': !form.temp_max_2.$valid && form.$submitted}"><label class="control-label">Temp Máxima (°C)</label> <input ng-model="control.temp_max_2" name="temp_max_2" type="number" class="form-control" ng-required="true" min="0"><form-error input-name="temp_max_2" form="form"></form-error></div></div><div class="col-lg-4"><div class="form-group" ng-class="{\'has-error\': !form.temp_min_2.$valid && form.$submitted}"><label class="control-label">Temp Mínima (°C)</label> <input ng-model="control.temp_min_2" name="temp_min_2" type="number" class="form-control" ng-required="true"><form-error input-name="temp_min_2" form="form"></form-error></div></div></div><div class="row"><div class="panel-default"><div class="panel-heading">Yuracmayo</div></div></div><div class="row"><div class="col-lg-4"><div class="form-group" ng-class="{\'has-error\': !form.pluviometria_3.$valid && form.$submitted}"><label class="control-label">Pluviómetro (mm)</label> <input ng-model="control.pluviometria_3" name="pluviometria_3" type="number" class="form-control" ng-required="true" min="0"><form-error input-name="pluviometria_3" form="form"></form-error></div></div><div class="col-lg-4"><div class="form-group" ng-class="{\'has-error\': !form.evaporacion_3.$valid && form.$submitted}"><label class="control-label">Evaporímetro (mm)</label> <input ng-model="control.evaporacion_3" name="evaporacion_3" type="number" class="form-control" ng-required="true" min="0"><form-error input-name="evaporacion_3" form="form"></form-error></div></div><div class="col-lg-4"><div class="form-group" ng-class="{\'has-error\': !form.humedad_rela_3.$valid && form.$submitted}"><label class="control-label">Higrómetro (%)</label> <input ng-model="control.humedad_rela_3" name="humedad_rela_3" type="number" class="form-control" ng-required="true" min="0"><form-error input-name="humedad_rela_3" form="form"></form-error></div></div></div><div class="row"><div class="col-lg-4"><div class="form-group" ng-class="{\'has-error\': !form.temp_max_3.$valid && form.$submitted}"><label class="control-label">Temp Máxima (°C)</label> <input ng-model="control.temp_max_3" name="temp_max_3" type="number" class="form-control" ng-required="true" min="0"><form-error input-name="temp_max_3" form="form"></form-error></div></div><div class="col-lg-4"><div class="form-group" ng-class="{\'has-error\': !form.temp_min_3.$valid && form.$submitted}"><label class="control-label">Temp Mínima (°C)</label> <input ng-model="control.temp_min_3" name="temp_min_3" type="number" class="form-control" ng-required="true"><form-error input-name="temp_min_3" form="form"></form-error></div></div></div></div><div class="modal-footer"><div class="row"><div class="col-lg-1 col-lg-offset-3"><button type="submit" class="btn btn-primary">Guardar</button></div><div class="col-lg-1 col-lg-offset-2"><button class="btn btn-primary" type="button" ng-click="cancelSave()">Cancelar</button></div></div></div></form>'),a.put("app/meteorologia/meteorologia.html",'<div class="row"><div class="col-lg-12"><h1 class="page-header" ng-click="send()">Meteorología <button class="btn btn-success" ng-click="openForm()">Ingresar nuevo control</button></h1><div class="row"><div class="col-lg-12"><div class="panel panel-default"><div class="panel-body"><form ng-submit="search(form)" name="form" novalidate=""><div class="row"><div class="form-inline col-lg-4"><div class="form-group"><label class="control-label">Fecha Inicial</label><p class="input-group"><input class="form-control" moment-picker="" name="date_ini" placeholder="dd/mm/aaaa" locale="en" format="DD/MM/YYYY" start-view="month" ng-model="date_ini"></p></div></div><div class="form-inline col-lg-4"><div class="form-group"><label class="control-label">Fecha Final</label><p class="input-group"><input class="form-control" moment-picker="" name="date_fin" placeholder="dd/mm/aaaa" locale="en" format="DD/MM/YYYY" start-view="month" min-date="date_ini" ng-model="date_fin"></p></div></div><div class="col-lg-2"><div class="form-group"><button type="submit" class="btn btn-primary">Buscar</button> <button type="button" class="btn btn-primary" ng-click="reloadPage()">Reset</button></div></div></div></form><div style="width: 100%; overflow-x: scroll;"><table style="min-width: 1100px;" datatable="" dt-instance="dtInstance" dt-options="dtOptions" dt-columns="dtColumns" class="table table-striped table-bordered table-hover"></table></div></div></div></div></div></div></div>'),a.put("app/users/users.form.html",'<div class="row"><div class="col-lg-12"><h1 class="page-header">Usuarios <button class="btn btn-primary" ui-sref="page.users-list">Volver al listado</button></h1><div class="row"><div class="col-lg-12"><div class="panel panel-default"><div class="panel-heading">Formulario de usuarios</div><div class="panel-body"><form ng-submit="save(form)" name="form" novalidate=""><div class="row"><div class="col-lg-6"><div class="form-group" ng-class="{\'has-error\': !form.name.$valid && form.$submitted}"><label class="control-label">Nombre</label> <input ng-model="user.name" name="name" type="text" class="form-control" ng-required="true"><form-error input-name="name" form="form"></form-error></div></div><div class="col-lg-6"><div class="form-group" ng-class="{\'has-error\': !form.username.$valid && form.$submitted}"><label class="control-label">Usuario</label> <input ng-model="user.username" name="username" type="text" class="form-control" ng-required="true"><form-error input-name="username" form="form"></form-error></div></div></div><div class="row"><div class="col-lg-6" ng-show="!activedirectory"><div class="form-group" ng-class="{\'has-error\': !form.password.$valid && form.$submitted}"><label class="control-label">Password</label> <input ng-model="user.password" name="password" type="password" class="form-control" ng-required="false" ng-pattern="/^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?!.*\\s)(?=.*[!@#\\$%\\^&\\*]).{8,100}$/"><form-error input-name="password" form="form"></form-error></div></div><div class="col-lg-6" ng-show="!activedirectory"><div class="form-group" ng-class="{\'has-error\': !form.email.$valid && form.$submitted}"><label class="control-label">Correo</label> <input ng-model="user.email" name="email" type="email" class="form-control" ng-required="!activedirectory"><form-error input-name="email" form="form"></form-error></div></div></div><div class="row"><div class="col-lg-6"><div class="form-group" ng-class="{\'has-error\': !form.profile.$valid && form.$submitted}"><label class="control-label">Perfil</label><ui-select ng-model="profile" on-select="changeProfile($item, $model)" name="profile" ng-required="true"><ui-select-match allow-clear="true"><span ng-bind="$select.selected.id + \' \' + $select.selected.name"></span></ui-select-match><ui-select-choices repeat="profile in (profiles | filter: $select.search) track by profile.id"><span ng-bind="profile.id + \' \' + profile.name"></span></ui-select-choices></ui-select><form-error input-name="profile" form="form"></form-error></div></div><div class="col-lg-6"><input type="checkbox" class="" ng-model="activedirectory" name="activedirectory" value="1"> <label class="control-label">Directorio Activo?</label></div></div><button type="submit" class="btn btn-primary">Guardar</button></form><br><alert ng-show="alert.show" type="{{alert.type}}" close="closeAlert()">{{alert.msg}}</alert></div></div></div><div></div></div></div></div>'),a.put("app/users/users.list.html",'<div class="row"><div class="col-lg-12"><h1 class="page-header" ng-click="send()">Usuarios <button class="btn btn-primary" ui-sref="page.users-form">Crear usuario</button></h1><div class="row"><div class="col-lg-12"><div class="panel panel-default"><div class="panel-heading">Listado de eventos</div><div class="panel-body"><table datatable="" dt-instance="dtInstance" dt-options="dtOptions" dt-columns="dtColumns" class="table table-striped table-bordered table-hover"></table></div></div></div></div></div></div>'),a.put("app/components/forms/errors.html",'<div ng-show="form.{{field}}.$error && form.$submitted" ng-messages="objField.$error" ng-init="min=\'6\'"><div class="has-error control-label" ng-message="required">Este campo es requerido</div><div class="has-error control-label" ng-message="email">No es un email válido</div><div class="has-error control-label" ng-message="minlength">Este campo debe ser de mínimo {{min}} caracteres.</div><div class="has-error control-label" ng-message="maxlength">Este campo debe ser máximo {{max}} caracteres</div><div class="has-error control-label" ng-message="decimal">Este campo debe ser numerico</div><div class="has-error control-label" ng-message="min">Los valores no pueden ser negativos</div><div class="has-error control-label" ng-message="max">El Caudal Captado no puede ser mayor al Caudal Total</div></div>'),
a.put("app/components/modals/confirmation.html",'<div class="modal-header"><h3 class="modal-title">{{modal.title}}</h3></div><div class="modal-body" ng-bind-html="modal.message"></div><div class="modal-footer"><div class="row"><div class="col-lg-1 col-lg-offset-3"><button class="btn btn-primary" type="button" ng-click="modal.accept()()">Aceptar</button></div><div class="col-lg-1 col-lg-offset-2"><button class="btn btn-primary" type="button" ng-click="modal.cancel()">Cancelar</button></div></div></div>'),a.put("app/components/modals/information.html",'<div class="modal-header"><h3 class="modal-title">{{modal.title}}</h3></div><div class="modal-body">{{modal.message}}</div><div class="modal-footer"><button class="btn btn-primary" type="button" ng-click="modal.accept()">Aceptar</button></div>'),a.put("app/components/modals/options.html",'<div class="modal-header"><h3 class="modal-title">{{modal.title}}</h3></div><div class="modal-body" ng-bind-html="modal.message"></div><div class="modal-footer"><div class="row"><div ng-repeat="option in modal.options" class="col-lg-2"><button class="btn btn-primary" type="button" ng-click="option.action()()">{{option.text}}</button></div></div></div>'),a.put("app/components/navbar/navbar.html",'<nav class="navbar navbar-default navbar-static-top" role="navigation" style="margin-bottom: 0"><div style="float:left"><a href="index.html"><img style="border:0px" src="assets/images/logo.gif" alt="Logo indra"></a></div><div class="navbar-header"><a class="navbar-brand" href="index.html">Hidrología</a></div><ul class="nav navbar-top-links navbar-right"><li class="dropdown" dropdown=""><a class="dropdown-toggle" dropdown-toggle="" href="#"><i class="fa fa-user fa-fw"></i> <i class="fa fa-caret-down"></i></a><ul class="dropdown-menu" role="menu"><li class="divider"></li><li><a style="cursor: auto" href="../public/logout" ng-click="vm.logout()"><i class="fa fa-sign-out fa-fw"></i>Cerrar sesión</a></li></ul></li></ul><div class="navbar-default sidebar" role="navigation"><div class="sidebar-nav navbar-collapse"><button ng-click="vm.toggleMenu()" type="button" class="btn btn-sm btn-default toggler" ng-class="vm.toggleClass"><span class="glyphicon" ng-class="vm.toggleClassIcon"></span></button><ul class="nav" id="side-menu" ng-show="vm.showMenu"><li ng-repeat="group in vm.permissions"><a href=""><span class="sidebar-nav-item-icon fa fa-github fa-lg"></span> <span class="sidebar-nav-item">{{group.parent.name}}</span> <span class="fa arrow"></span></a><ul class="nav nav-second-level collapse"><li ng-repeat="permission in group.childs"><a ui-sref="{{permission.route}}"><span class="sidebar-nav-item-icon fa fa-code-fork"></span> {{permission.name}}</a></li></ul></li></ul></div></div></nav>')}]);